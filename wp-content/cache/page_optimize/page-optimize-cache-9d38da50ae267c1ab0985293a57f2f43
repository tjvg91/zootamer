jQuery(function(p){"use strict";var u,c=Stripe(wc_stripe_payment_request_params.stripe.key,{locale:wc_stripe_payment_request_params.stripe.locale}),t=wc_stripe_payment_request_params.product.validVariationSelected??!0,_={paymentCanceled:!1,getAjaxURL:function(t){return wc_stripe_payment_request_params.ajax_url.toString().replace("%%endpoint%%","wc_stripe_"+t)},getCartDetails:function(){var t={security:wc_stripe_payment_request_params.nonce.payment};p.ajax({type:"POST",data:t,url:_.getAjaxURL("get_cart_details"),success:function(t){_.startPaymentRequest(t)}})},getAttributes:function(){var t=p(".variations_form").find(".variations select"),n={},a=0,r=0;return t.each(function(){var t=p(this).data("attribute_name")||p(this).attr("name"),e=p(this).val()||"";0<e.length&&r++,a++,n[t]=e}),{count:a,chosenCount:r,data:n}},processPaymentMethod:function(t,e){e=_.getOrderData(t,e);return p.ajax({type:"POST",data:e,dataType:"json",url:_.getAjaxURL("create_order")})},getOrderData:function(t,e){var n=t.paymentMethod,a=n.billing_details.email,r=n.billing_details.phone,s=n.billing_details.address,i=n.billing_details.name??t.payerName,o=t.shippingAddress,e={_wpnonce:wc_stripe_payment_request_params.nonce.checkout,billing_first_name:i?.split(" ")?.slice(0,1)?.join(" ")??"",billing_last_name:i?.split(" ")?.slice(1)?.join(" ")||"-",billing_company:"",billing_email:null!==a?a:t.payerEmail,billing_phone:null!==r?r:t.payerPhone&&t.payerPhone.replace("/[() -]/g",""),billing_country:null!==s?s.country:"",billing_address_1:null!==s?s.line1:"",billing_address_2:null!==s?s.line2:"",billing_city:null!==s?s.city:"",billing_state:null!==s?s.state:"",billing_postcode:null!==s?s.postal_code:"",shipping_first_name:"",shipping_last_name:"",shipping_company:"",shipping_country:"",shipping_address_1:"",shipping_address_2:"",shipping_city:"",shipping_state:"",shipping_postcode:"",shipping_method:[null===t.shippingOption?null:t.shippingOption.id],order_comments:"",payment_method:"stripe",ship_to_different_address:1,terms:1,"wc-stripe-payment-method":n.id,stripe_source:n.id,payment_request_type:e,"wc-stripe-is-deferred-intent":!0};return o&&(e.shipping_first_name=o.recipient.split(" ").slice(0,1).join(" "),e.shipping_last_name=o.recipient.split(" ").slice(1).join(" "),e.shipping_company=o.organization,e.shipping_country=o.country,e.shipping_address_1=void 0===o.addressLine[0]?"":o.addressLine[0],e.shipping_address_2=void 0===o.addressLine[1]?"":o.addressLine[1],e.shipping_city=o.city,e.shipping_state=o.region,e.shipping_postcode=o.postalCode),{...e=_.getRequiredFieldDataFromCheckoutForm(e),..._.extractOrderAttributionData()}},getRequiredFieldDataFromCheckoutForm:function(r){const t=p("form.checkout").find(".validate-required");return t.length&&t.each(function(){const t=p(this).find(":input"),e=t.attr("name");let n="";var a;n="checkbox"===t.attr("type")?t.is(":checked"):t.val(),n&&e&&(r[e]||(r[e]=n),p("#ship-to-different-address").find("input").is(":checked")||(a=e.replace("billing_","shipping_"),!r[a]&&r[e]&&(r[a]=r[e])))}),r},getErrorMessageHTML:function(t){return p('<div class="woocommerce-error" />').text(t)},displayErrorMessage:function(t){p(".woocommerce-error").remove();const e=wc_stripe_payment_request_params.is_product_page?p(".product").first():p(".shop_table").closest("form");e.length?(e.before(t),p("html, body").animate({scrollTop:e.prev(".woocommerce-error").offset().top},600)):console.error("Could not prepend the error message element:",t)},abortPayment:function(t,e){t.complete("fail"),_.displayErrorMessage(e)},completePayment:function(t,e){_.block(),t.complete("success"),window.location=e},block:function(){p.blockUI({message:null,overlayCSS:{background:"#fff",opacity:.6}})},updateShippingOptions:function(t,e){e={security:wc_stripe_payment_request_params.nonce.shipping,country:e.country,state:e.region,postcode:e.postalCode,city:e.city,address:void 0===e.addressLine[0]?"":e.addressLine[0],address_2:void 0===e.addressLine[1]?"":e.addressLine[1],payment_request_type:u,is_product_page:wc_stripe_payment_request_params.is_product_page};return p.ajax({type:"POST",data:e,url:_.getAjaxURL("get_shipping_options")})},updateShippingDetails:function(t,e){e={security:wc_stripe_payment_request_params.nonce.update_shipping,shipping_method:[e.id],payment_request_type:u,is_product_page:wc_stripe_payment_request_params.is_product_page};return p.ajax({type:"POST",data:e,url:_.getAjaxURL("update_shipping_method")})},addToCart:function(){var t=p(".single_add_to_cart_button").val();p(".single_variation_wrap").length&&(t=p(".single_variation_wrap").find('input[name="product_id"]').val());var a={security:wc_stripe_payment_request_params.nonce.add_to_cart,product_id:t,qty:p(".quantity .qty").val(),attributes:p(".variations_form").length?_.getAttributes().data:[]},t=p("form.cart").serializeArray();return p.each(t,function(t,e){var n;/^addon-/.test(e.name)&&(/\[\]$/.test(e.name)?(n=e.name.substring(0,e.name.length-2),a[n]?a[n].push(e.value):a[n]=[e.value]):a[e.name]=e.value)}),p.ajax({type:"POST",data:a,url:_.getAjaxURL("add_to_cart")})},clearCart:function(){var t={security:wc_stripe_payment_request_params.nonce.clear_cart};return p.ajax({type:"POST",data:t,url:_.getAjaxURL("clear_cart"),success:function(t){}})},getRequestOptionsFromLocal:function(){return{total:wc_stripe_payment_request_params.product.total,currency:wc_stripe_payment_request_params.checkout.currency_code,country:wc_stripe_payment_request_params.checkout.country_code,requestPayerName:!0,requestPayerEmail:!0,requestPayerPhone:wc_stripe_payment_request_params.checkout.needs_payer_phone,requestShipping:wc_stripe_payment_request_params.product.requestShipping,displayItems:wc_stripe_payment_request_params.product.displayItems}},startPaymentRequest:function(t,e){var n,a;e=e??!0,n=wc_stripe_payment_request_params.is_product_page?a=_.getRequestOptionsFromLocal():(a={total:t.order_data.total,currency:t.order_data.currency,country:t.order_data.country_code,requestPayerName:!0,requestPayerEmail:!0,requestPayerPhone:wc_stripe_payment_request_params.checkout.needs_payer_phone,requestShipping:!!t.shipping_required,displayItems:t.order_data.displayItems},t.order_data);const r=[];wc_stripe_payment_request_params?.stripe?.is_link_enabled||r.push("link"),wc_stripe_payment_request_params?.stripe?.is_payment_request_enabled||r.push("applePay","googlePay"),a.disableWallets=r,"PR"===a.country&&(a.country="US");try{var s=c.paymentRequest(a),i=c.elements({locale:wc_stripe_payment_request_params.button.locale}),o=_.createPaymentRequestButton(i,s);s.canMakePayment().then(function(t){t&&(u=t.applePay?"apple_pay":t.googlePay?"google_pay":"payment_request_api",_.attachPaymentRequestButtonEventListeners(o,s),e&&_.showPaymentRequestButton(o))}),s.on("shippingaddresschange",function(e){p.when(_.updateShippingOptions(n,e.shippingAddress)).then(function(t){e.updateWith({status:t.result,shippingOptions:t.shipping_options,total:t.total,displayItems:t.displayItems})})}),s.on("shippingoptionchange",function(e){p.when(_.updateShippingDetails(n,e.shippingOption)).then(function(t){"success"===t.result&&e.updateWith({status:"success",total:t.total,displayItems:t.displayItems}),"fail"===t.result&&e.updateWith({status:"fail"})})}),s.on("paymentmethod",function(e){"no"===wc_stripe_payment_request_params.stripe.allow_prepaid_card&&"prepaid"===e.source.card.funding?_.abortPayment(e,_.getErrorMessageHTML(wc_stripe_payment_request_params.i18n.no_prepaid_card)):p.when(_.processPaymentMethod(e,u)).then(function(t){"success"===t.result?_.completePayment(e,t.redirect):_.abortPayment(e,t.messages)})}),s.on("cancel",function(){_.paymentCanceled=!0})}catch(t){console.error(t)}},getSelectedProductData:function(){var t=p(".single_add_to_cart_button").val();p(".single_variation_wrap").length&&(t=p(".single_variation_wrap").find('input[name="product_id"]').val());var e=(p("#product-addons-total").data("price_data")||[]).reduce(function(t,e){return t+e.cost},0),e={security:wc_stripe_payment_request_params.nonce.get_selected_product_data,product_id:t,qty:p(".quantity .qty").val(),attributes:p(".variations_form").length?_.getAttributes().data:[],addon_value:e};return p.ajax({type:"POST",data:e,url:_.getAjaxURL("get_selected_product_data")})},debounce:function(a,r,s){var i;return function(){var t=this,e=arguments,n=s&&!i;clearTimeout(i),i=setTimeout(function(){i=null,s||r.apply(t,e)},a),n&&r.apply(t,e)}},createPaymentRequestButton:function(t,e){var n;if(wc_stripe_payment_request_params.button.is_custom&&(n=p(wc_stripe_payment_request_params.button.css_selector)).length)return n.data("isCustom",!0),n;if(wc_stripe_payment_request_params.button.is_branded){if(_.shouldUseGooglePayBrand())return(n=_.createGooglePayButton()).data("isBranded",!0),n;wc_stripe_payment_request_params.button.type="long"===wc_stripe_payment_request_params.button.branded_type?"buy":"default"}return t.create("paymentRequestButton",{paymentRequest:e,style:{paymentRequestButton:{type:wc_stripe_payment_request_params.button.type,theme:wc_stripe_payment_request_params.button.theme,height:wc_stripe_payment_request_params.button.height+"px"}}})},isCustomPaymentRequestButton:function(t){return t&&"function"==typeof t.data&&t.data("isCustom")},isBrandedPaymentRequestButton:function(t){return t&&"function"==typeof t.data&&t.data("isBranded")},shouldUseGooglePayBrand:function(){var t=window.navigator.userAgent.toLowerCase(),e=/chrome/.test(t)&&!/edge|edg|opr|brave\//.test(t)&&"Google Inc."===window.navigator.vendor,t=e&&window.navigator.brave;return e&&!t},createGooglePayButton:function(){var t=wc_stripe_payment_request_params.button.theme,e=wc_stripe_payment_request_params.button.branded_type,n=wc_stripe_payment_request_params.button.locale,a=wc_stripe_payment_request_params.button.height,r="dark"===(t=["dark","light","light-outline"].includes(t)?t:"light")?"dark":"light",e=["short","long"].includes(e)?e:"long",s=p('<button type="button" id="wc-stripe-branded-button" aria-label="Google Pay" class="gpay-button"></button>');return s.css("height",a+"px"),s.addClass(t+" "+e),"long"===e&&function(t,e,n){t.css("background-image","url("+e+")");var a=document.createElement("img");a.onerror=function(){t.css("background-image","url("+n+")")},a.src=e}(s,"https://www.gstatic.com/instantbuy/svg/"+r+"/"+n+".svg","https://www.gstatic.com/instantbuy/svg/"+r+"/en.svg"),s},attachPaymentRequestButtonEventListeners:function(t,e){t.on("click",function(t){p("body").addClass("woocommerce-stripe-prb-clicked")}),wc_stripe_payment_request_params.is_product_page?_.attachProductPageEventListeners(t,e):_.attachCartPageEventListeners(t,e)},attachProductPageEventListeners:function(e,n){var a=[],r=p(".single_add_to_cart_button");e.on("click",function(t){return wc_stripe_payment_request_params.login_confirmation?(t.preventDefault(),void i(u)):r.is(".disabled")?(t.preventDefault(),void(r.is(".wc-variation-is-unavailable")?window.alert(wc_add_to_cart_variation_params.i18n_unavailable_text):r.is(".wc-variation-selection-needed")&&window.alert(wc_add_to_cart_variation_params.i18n_make_a_selection_text))):0<a.length?(t.preventDefault(),void window.alert(a)):(_.addToCart(),void((_.isCustomPaymentRequestButton(e)||_.isBrandedPaymentRequestButton(e))&&(t.preventDefault(),n.show())))}),p(document.body).on("wc_stripe_unblock_payment_request_button wc_stripe_enable_payment_request_button",function(){_.unblockPaymentRequestButton()}),p(document.body).on("wc_stripe_block_payment_request_button",function(){_.blockPaymentRequestButton("wc_request_button_is_blocked")}),p(document.body).on("wc_stripe_disable_payment_request_button",function(){_.blockPaymentRequestButton("wc_request_button_is_disabled")}),p(document.body).on("woocommerce_variation_has_changed",function(){p(document.body).trigger("wc_stripe_block_payment_request_button"),p.when(_.getSelectedProductData()).then(function(t){t.error?(p(document.body).trigger("wc_stripe_unblock_payment_request_button"),_.hidePaymentRequestButton()):_.paymentCanceled||wc_stripe_payment_request_params.product.requestShipping!==t.requestShipping?(wc_stripe_payment_request_params.product.requestShipping=t.requestShipping,wc_stripe_payment_request_params.product.total=t.total,wc_stripe_payment_request_params.product.displayItems=t.displayItems,_.init(),p(document.body).trigger("wc_stripe_unblock_payment_request_button")):p.when(n.update({total:t.total,displayItems:t.displayItems})).then(function(){p(document.body).trigger("wc_stripe_unblock_payment_request_button"),_.showPaymentRequestButton()})})});function t(){p(document.body).trigger("wc_stripe_block_payment_request_button")}function s(){p(document.body).trigger("wc_stripe_block_payment_request_button"),a=[],p.when(_.getSelectedProductData()).then(function(t){t.error?(a=[t.error],p(document.body).trigger("wc_stripe_unblock_payment_request_button")):p.when(n.update({total:t.total,displayItems:t.displayItems})).then(function(){p(document.body).trigger("wc_stripe_unblock_payment_request_button")})})}p(".quantity").on("input",".qty",t),p(".quantity").on("input",".qty",_.debounce(250,s)),p(".cart:not(.cart_group)").on("updated_addons",t),p(".cart:not(.cart_group)").on("updated_addons",_.debounce(250,s)),p(".variations_form").length&&p(".variations_form").on("found_variation.wc-variation-form",function(t,e){e.is_in_stock?_.unhidePaymentRequestButton():_.hidePaymentRequestButton()})},attachCartPageEventListeners:function(e,n){e.on("click",function(t){return wc_stripe_payment_request_params.login_confirmation?(t.preventDefault(),void i(u)):void((_.isCustomPaymentRequestButton(e)||_.isBrandedPaymentRequestButton(e))&&(t.preventDefault(),n.show()))})},extractOrderAttributionData:function(){const t=p("wc-order-attribution-inputs");if(!t.length)return{};const e={};return t.children("input").each(function(){e[p(this).attr("name")]=p(this).val()}),e},showPaymentRequestButton:function(t){_.isCustomPaymentRequestButton(t)?(t.addClass("is-active"),p("#wc-stripe-payment-request-wrapper, #wc-stripe-payment-request-button-separator").show()):_.isBrandedPaymentRequestButton(t)?(p("#wc-stripe-payment-request-wrapper, #wc-stripe-payment-request-button-separator").show(),p("#wc-stripe-payment-request-button").html(t)):p("#wc-stripe-payment-request-button").length&&(p("#wc-stripe-payment-request-wrapper, #wc-stripe-payment-request-button-separator").show(),t.mount("#wc-stripe-payment-request-button"))},hidePaymentRequestButton:function(){p("#wc-stripe-payment-request-wrapper, #wc-stripe-payment-request-button-separator").hide()},unhidePaymentRequestButton:function(){const t=p("#wc-stripe-payment-request-wrapper"),e=p("#wc-stripe-payment-request-button-separator");(t.is(":hidden")||e.is(":hidden"))&&(t.show(),e.show())},blockPaymentRequestButton:function(t){p("#wc-stripe-payment-request-button").data("blockUI.isBlocked")||p("#wc-stripe-payment-request-button").addClass(t).block({message:null})},unblockPaymentRequestButton:function(){p("#wc-stripe-payment-request-button").removeClass(["wc_request_button_is_blocked","wc_request_button_is_disabled"]).unblock()},init:function(t){wc_stripe_payment_request_params.is_product_page?_.startPaymentRequest("",t):_.getCartDetails(),_.paymentCanceled=!1}};function i(t){var e;wc_stripe_payment_request_params.login_confirmation&&(e=wc_stripe_payment_request_params.login_confirmation.message,e=(e="payment_request_api"!==t?e.replace(/\*\*.*?\*\*/,"apple_pay"===t?"Apple Pay":"Google Pay"):e).replace(/\*\*/g,""),confirm(e)&&(window.location.href=wc_stripe_payment_request_params.login_confirmation.redirect_url))}_.init(t),p(document.body).on("updated_cart_totals",function(){_.init()}),p(document.body).on("updated_checkout",function(){_.init()})});
;
!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.sbjs=e()}}(function(){return function e(t,r,n){function a(s,o){if(!r[s]){if(!t[s]){var c="function"==typeof require&&require;if(!o&&c)return c(s,!0);if(i)return i(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var p=r[s]={exports:{}};t[s][0].call(p.exports,function(e){var r=t[s][1][e];return a(r||e)},p,p.exports,e,t,r,n)}return r[s].exports}for(var i="function"==typeof require&&require,s=0;s<n.length;s++)a(n[s]);return a}({1:[function(e,t,r){"use strict";var n=e("./init"),a={init:function(e){this.get=n(e),e&&e.callback&&"function"==typeof e.callback&&e.callback(this.get)}};t.exports=a},{"./init":6}],2:[function(e,t,r){"use strict";var n=e("./terms"),a=e("./helpers/utils"),i={containers:{current:"sbjs_current",current_extra:"sbjs_current_add",first:"sbjs_first",first_extra:"sbjs_first_add",session:"sbjs_session",udata:"sbjs_udata",promocode:"sbjs_promo"},service:{migrations:"sbjs_migrations"},delimiter:"|||",aliases:{main:{type:"typ",source:"src",medium:"mdm",campaign:"cmp",content:"cnt",term:"trm",id:"id",platform:"plt",format:"fmt",tactic:"tct"},extra:{fire_date:"fd",entrance_point:"ep",referer:"rf"},session:{pages_seen:"pgs",current_page:"cpg"},udata:{visits:"vst",ip:"uip",agent:"uag"},promo:"code"},pack:{main:function(e){return i.aliases.main.type+"="+e.type+i.delimiter+i.aliases.main.source+"="+e.source+i.delimiter+i.aliases.main.medium+"="+e.medium+i.delimiter+i.aliases.main.campaign+"="+e.campaign+i.delimiter+i.aliases.main.content+"="+e.content+i.delimiter+i.aliases.main.term+"="+e.term+i.delimiter+i.aliases.main.id+"="+e.id+i.delimiter+i.aliases.main.platform+"="+e.platform+i.delimiter+i.aliases.main.format+"="+e.format+i.delimiter+i.aliases.main.tactic+"="+e.tactic},extra:function(e){return i.aliases.extra.fire_date+"="+a.setDate(new Date,e)+i.delimiter+i.aliases.extra.entrance_point+"="+document.location.href+i.delimiter+i.aliases.extra.referer+"="+(document.referrer||n.none)},user:function(e,t){return i.aliases.udata.visits+"="+e+i.delimiter+i.aliases.udata.ip+"="+t+i.delimiter+i.aliases.udata.agent+"="+navigator.userAgent},session:function(e){return i.aliases.session.pages_seen+"="+e+i.delimiter+i.aliases.session.current_page+"="+document.location.href},promo:function(e){return i.aliases.promo+"="+a.setLeadingZeroToInt(a.randomInt(e.min,e.max),e.max.toString().length)}}};t.exports=i},{"./helpers/utils":5,"./terms":9}],3:[function(e,t,r){"use strict";var n=e("../data").delimiter;t.exports={useBase64:!1,setBase64Flag:function(e){this.useBase64=e},encodeData:function(e){return encodeURIComponent(e).replace(/\!/g,"%21").replace(/\~/g,"%7E").replace(/\*/g,"%2A").replace(/\'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29")},decodeData:function(e){try{return decodeURIComponent(e).replace(/\%21/g,"!").replace(/\%7E/g,"~").replace(/\%2A/g,"*").replace(/\%27/g,"'").replace(/\%28/g,"(").replace(/\%29/g,")")}catch(t){try{return unescape(e)}catch(r){return""}}},set:function(e,t,r,n,a){var i,s;if(r){var o=new Date;o.setTime(o.getTime()+60*r*1e3),i="; expires="+o.toGMTString()}else i="";s=n&&!a?";domain=."+n:"";var c=this.encodeData(t);this.useBase64&&(c=btoa(c).replace(/=+$/,"")),document.cookie=this.encodeData(e)+"="+c+i+s+"; path=/"},get:function(e){for(var t=this.encodeData(e)+"=",r=document.cookie.split(";"),n=0;n<r.length;n++){for(var a=r[n];" "===a.charAt(0);)a=a.substring(1,a.length);if(0===a.indexOf(t)){var i=a.substring(t.length,a.length);if(/^[A-Za-z0-9+/]+$/.test(i))try{i=atob(i.padEnd(4*Math.ceil(i.length/4),"="))}catch(s){}return this.decodeData(i)}}return null},destroy:function(e,t,r){this.set(e,"",-1,t,r)},parse:function(e){var t=[],r={};if("string"==typeof e)t.push(e);else for(var a in e)e.hasOwnProperty(a)&&t.push(e[a]);for(var i=0;i<t.length;i++){var s;r[this.unsbjs(t[i])]={},s=this.get(t[i])?this.get(t[i]).split(n):[];for(var o=0;o<s.length;o++){var c=s[o].split("="),u=c.splice(0,1);u.push(c.join("=")),r[this.unsbjs(t[i])][u[0]]=this.decodeData(u[1])}}return r},unsbjs:function(e){return e.replace("sbjs_","")}}},{"../data":2}],4:[function(e,t,r){"use strict";t.exports={parse:function(e){for(var t=this.parseOptions,r=t.parser[t.strictMode?"strict":"loose"].exec(e),n={},a=14;a--;)n[t.key[a]]=r[a]||"";return n[t.q.name]={},n[t.key[12]].replace(t.q.parser,function(e,r,a){r&&(n[t.q.name][r]=a)}),n},parseOptions:{strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},getParam:function(e){for(var t={},r=(e||window.location.search.substring(1)).split("&"),n=0;n<r.length;n++){var a=r[n].split("=");if("undefined"==typeof t[a[0]])t[a[0]]=a[1];else if("string"==typeof t[a[0]]){var i=[t[a[0]],a[1]];t[a[0]]=i}else t[a[0]].push(a[1])}return t},getHost:function(e){return this.parse(e).host.replace("www.","")}}},{}],5:[function(e,t,r){"use strict";t.exports={escapeRegexp:function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},setDate:function(e,t){var r=e.getTimezoneOffset()/60,n=e.getHours(),a=t||0===t?t:-r;return e.setHours(n+r+a),e.getFullYear()+"-"+this.setLeadingZeroToInt(e.getMonth()+1,2)+"-"+this.setLeadingZeroToInt(e.getDate(),2)+" "+this.setLeadingZeroToInt(e.getHours(),2)+":"+this.setLeadingZeroToInt(e.getMinutes(),2)+":"+this.setLeadingZeroToInt(e.getSeconds(),2)},setLeadingZeroToInt:function(e,t){for(var r=e+"";r.length<t;)r="0"+r;return r},randomInt:function(e,t){return Math.floor(Math.random()*(t-e+1))+e}}},{}],6:[function(e,t,r){"use strict";var n=e("./data"),a=e("./terms"),i=e("./helpers/cookies"),s=e("./helpers/uri"),o=e("./helpers/utils"),c=e("./params"),u=e("./migrations");t.exports=function(e){var t,r,p,f,m,d,l,g,h,y,_,v,b,x=c.fetch(e),k=s.getParam(),w=x.domain.host,q=x.domain.isolate,I=x.lifetime;function j(e){switch(e){case a.traffic.utm:t=a.traffic.utm,r="undefined"!=typeof k.utm_source?k.utm_source:"undefined"!=typeof k.gclid?"google":"undefined"!=typeof k.yclid?"yandex":a.none,p="undefined"!=typeof k.utm_medium?k.utm_medium:"undefined"!=typeof k.gclid?"cpc":"undefined"!=typeof k.yclid?"cpc":a.none,f="undefined"!=typeof k.utm_campaign?k.utm_campaign:"undefined"!=typeof k[x.campaign_param]?k[x.campaign_param]:"undefined"!=typeof k.gclid?"google_cpc":"undefined"!=typeof k.yclid?"yandex_cpc":a.none,m="undefined"!=typeof k.utm_content?k.utm_content:"undefined"!=typeof k[x.content_param]?k[x.content_param]:a.none,l=k.utm_id||a.none,g=k.utm_source_platform||a.none,h=k.utm_creative_format||a.none,y=k.utm_marketing_tactic||a.none,d="undefined"!=typeof k.utm_term?k.utm_term:"undefined"!=typeof k[x.term_param]?k[x.term_param]:function(){var e=document.referrer;if(k.utm_term)return k.utm_term;if(!(e&&s.parse(e).host&&s.parse(e).host.match(/^(?:.*\.)?yandex\..{2,9}$/i)))return!1;try{return s.getParam(s.parse(document.referrer).query).text}catch(t){return!1}}()||a.none;break;case a.traffic.organic:t=a.traffic.organic,r=r||s.getHost(document.referrer),p=a.referer.organic,f=a.none,m=a.none,d=a.none,l=a.none,g=a.none,h=a.none,y=a.none;break;case a.traffic.referral:t=a.traffic.referral,r=r||s.getHost(document.referrer),p=p||a.referer.referral,f=a.none,m=s.parse(document.referrer).path,d=a.none,l=a.none,g=a.none,h=a.none,y=a.none;break;case a.traffic.typein:t=a.traffic.typein,r=x.typein_attributes.source,p=x.typein_attributes.medium,f=a.none,m=a.none,d=a.none,l=a.none,g=a.none,h=a.none,y=a.none;break;default:t=a.oops,r=a.oops,p=a.oops,f=a.oops,m=a.oops,d=a.oops,l=a.oops,g=a.oops,h=a.oops,y=a.oops}var i={type:t,source:r,medium:p,campaign:f,content:m,term:d,id:l,platform:g,format:h,tactic:y};return n.pack.main(i)}function R(e){var t=document.referrer;switch(e){case a.traffic.organic:return!!t&&H(t)&&function(e){var t=new RegExp("^(?:.*\\.)?"+o.escapeRegexp("yandex")+"\\..{2,9}$"),n=new RegExp(".*"+o.escapeRegexp("text")+"=.*"),a=new RegExp("^(?:www\\.)?"+o.escapeRegexp("google")+"\\..{2,9}$");if(s.parse(e).query&&s.parse(e).host.match(t)&&s.parse(e).query.match(n))return r="yandex",!0;if(s.parse(e).host.match(a))return r="google",!0;if(!s.parse(e).query)return!1;for(var i=0;i<x.organics.length;i++){if(s.parse(e).host.match(new RegExp("^(?:.*\\.)?"+o.escapeRegexp(x.organics[i].host)+"$","i"))&&s.parse(e).query.match(new RegExp(".*"+o.escapeRegexp(x.organics[i].param)+"=.*","i")))return r=x.organics[i].display||x.organics[i].host,!0;if(i+1===x.organics.length)return!1}}(t);case a.traffic.referral:return!!t&&H(t)&&function(e){if(!(x.referrals.length>0))return r=s.getHost(e),!0;for(var t=0;t<x.referrals.length;t++){if(s.parse(e).host.match(new RegExp("^(?:.*\\.)?"+o.escapeRegexp(x.referrals[t].host)+"$","i")))return r=x.referrals[t].display||x.referrals[t].host,p=x.referrals[t].medium||a.referer.referral,!0;if(t+1===x.referrals.length)return r=s.getHost(e),!0}}(t);default:return!1}}function H(e){if(x.domain){if(q)return s.getHost(e)!==s.getHost(w);var t=new RegExp("^(?:.*\\.)?"+o.escapeRegexp(w)+"$","i");return!s.getHost(e).match(t)}return s.getHost(e)!==s.getHost(document.location.href)}function D(){i.set(n.containers.current_extra,n.pack.extra(x.timezone_offset),I,w,q),i.get(n.containers.first_extra)||i.set(n.containers.first_extra,n.pack.extra(x.timezone_offset),I,w,q)}return i.setBase64Flag(x.base64),u.go(I,w,q),i.set(n.containers.current,function(){var e;if("undefined"!=typeof k.utm_source||"undefined"!=typeof k.utm_medium||"undefined"!=typeof k.utm_campaign||"undefined"!=typeof k.utm_content||"undefined"!=typeof k.utm_term||"undefined"!=typeof k.utm_id||"undefined"!=typeof k.utm_source_platform||"undefined"!=typeof k.utm_creative_format||"undefined"!=typeof k.utm_marketing_tactic||"undefined"!=typeof k.gclid||"undefined"!=typeof k.yclid||"undefined"!=typeof k[x.campaign_param]||"undefined"!=typeof k[x.term_param]||"undefined"!=typeof k[x.content_param])D(),e=j(a.traffic.utm);else if(R(a.traffic.organic))D(),e=j(a.traffic.organic);else if(!i.get(n.containers.session)&&R(a.traffic.referral))D(),e=j(a.traffic.referral);else{if(i.get(n.containers.first)||i.get(n.containers.current))return i.get(n.containers.current);D(),e=j(a.traffic.typein)}return e}(),I,w,q),i.get(n.containers.first)||i.set(n.containers.first,i.get(n.containers.current),I,w,q),i.get(n.containers.udata)?(_=parseInt(i.parse(n.containers.udata)[i.unsbjs(n.containers.udata)][n.aliases.udata.visits])||1,_=i.get(n.containers.session)?_:_+1,v=n.pack.user(_,x.user_ip)):(_=1,v=n.pack.user(_,x.user_ip)),i.set(n.containers.udata,v,I,w,q),i.get(n.containers.session)?(b=parseInt(i.parse(n.containers.session)[i.unsbjs(n.containers.session)][n.aliases.session.pages_seen])||1,b+=1):b=1,i.set(n.containers.session,n.pack.session(b),x.session_length,w,q),x.promocode&&!i.get(n.containers.promocode)&&i.set(n.containers.promocode,n.pack.promo(x.promocode),I,w,q),i.parse(n.containers)}},{"./data":2,"./helpers/cookies":3,"./helpers/uri":4,"./helpers/utils":5,"./migrations":7,"./params":8,"./terms":9}],7:[function(e,t,r){"use strict";var n=e("./data"),a=e("./helpers/cookies");t.exports={go:function(e,t,r){var i,s=this.migrations,o={l:e,d:t,i:r};if(a.get(n.containers.first)||a.get(n.service.migrations)){if(!a.get(n.service.migrations))for(i=0;i<s.length;i++)s[i].go(s[i].id,o)}else{var c=[];for(i=0;i<s.length;i++)c.push(s[i].id);var u="";for(i=0;i<c.length;i++)u+=c[i]+"=1",i<c.length-1&&(u+=n.delimiter);a.set(n.service.migrations,u,o.l,o.d,o.i)}},migrations:[{id:"1418474375998",version:"1.0.0-beta",go:function(e,t){var r=e+"=1",i=e+"=0",s=function(e,t,r){return t||r?e:n.delimiter};try{var o=[];for(var c in n.containers)n.containers.hasOwnProperty(c)&&o.push(n.containers[c]);for(var u=0;u<o.length;u++)if(a.get(o[u])){var p=a.get(o[u]).replace(/(\|)?\|(\|)?/g,s);a.destroy(o[u],t.d,t.i),a.destroy(o[u],t.d,!t.i),a.set(o[u],p,t.l,t.d,t.i)}a.get(n.containers.session)&&a.set(n.containers.session,n.pack.session(0),t.l,t.d,t.i),a.set(n.service.migrations,r,t.l,t.d,t.i)}catch(f){a.set(n.service.migrations,i,t.l,t.d,t.i)}}}]}},{"./data":2,"./helpers/cookies":3}],8:[function(e,t,r){"use strict";var n=e("./terms"),a=e("./helpers/uri");t.exports={fetch:function(e){var t=e||{},r={};if(r.lifetime=this.validate.checkFloat(t.lifetime)||6,r.lifetime=parseInt(30*r.lifetime*24*60),r.session_length=this.validate.checkInt(t.session_length)||30,r.timezone_offset=this.validate.checkInt(t.timezone_offset),r.base64=t.base64||!1,r.campaign_param=t.campaign_param||!1,r.term_param=t.term_param||!1,r.content_param=t.content_param||!1,r.user_ip=t.user_ip||n.none,t.promocode?(r.promocode={},r.promocode.min=parseInt(t.promocode.min)||1e5,r.promocode.max=parseInt(t.promocode.max)||999999):r.promocode=!1,t.typein_attributes&&t.typein_attributes.source&&t.typein_attributes.medium?(r.typein_attributes={},r.typein_attributes.source=t.typein_attributes.source,r.typein_attributes.medium=t.typein_attributes.medium):r.typein_attributes={source:"(direct)",medium:"(none)"},t.domain&&this.validate.isString(t.domain)?r.domain={host:t.domain,isolate:!1}:t.domain&&t.domain.host?r.domain=t.domain:r.domain={host:a.getHost(document.location.hostname),isolate:!1},r.referrals=[],t.referrals&&t.referrals.length>0)for(var i=0;i<t.referrals.length;i++)t.referrals[i].host&&r.referrals.push(t.referrals[i]);if(r.organics=[],t.organics&&t.organics.length>0)for(var s=0;s<t.organics.length;s++)t.organics[s].host&&t.organics[s].param&&r.organics.push(t.organics[s]);return r.organics.push({host:"bing.com",param:"q",display:"bing"}),r.organics.push({host:"yahoo.com",param:"p",display:"yahoo"}),r.organics.push({host:"about.com",param:"q",display:"about"}),r.organics.push({host:"aol.com",param:"q",display:"aol"}),r.organics.push({host:"ask.com",param:"q",display:"ask"}),r.organics.push({host:"globososo.com",param:"q",display:"globo"}),r.organics.push({host:"go.mail.ru",param:"q",display:"go.mail.ru"}),r.organics.push({host:"rambler.ru",param:"query",display:"rambler"}),r.organics.push({host:"tut.by",param:"query",display:"tut.by"}),r.referrals.push({host:"t.co",display:"twitter.com"}),r.referrals.push({host:"plus.url.google.com",display:"plus.google.com"}),r},validate:{checkFloat:function(e){return!(!e||!this.isNumeric(parseFloat(e)))&&parseFloat(e)},checkInt:function(e){return!(!e||!this.isNumeric(parseInt(e)))&&parseInt(e)},isNumeric:function(e){return!isNaN(e)},isString:function(e){return"[object String]"===Object.prototype.toString.call(e)}}}},{"./helpers/uri":4,"./terms":9}],9:[function(e,t,r){"use strict";t.exports={traffic:{utm:"utm",organic:"organic",referral:"referral",typein:"typein"},referer:{referral:"referral",organic:"organic",social:"social"},none:"(none)",oops:"(Houston, we have a problem)"}},{}]},{},[1])(1)});;
!function(t){"use strict";const e=t.params,n=(document.querySelector.bind(document),(t,e)=>e.split(".").reduce((t,e)=>t&&t[e],t)),i=()=>null,s=t=>null===t||t===undefined?"":t,o="wc/store/checkout";function a(t){window.wp&&window.wp.data&&window.wp.data.dispatch&&window.wc&&window.wc.wcBlocksData&&window.wp.data.dispatch(window.wc.wcBlocksData.CHECKOUT_STORE_KEY).__internalSetExtensionData("woocommerce/order-attribution",t,!0)}function r(){return"undefined"!=typeof sbjs}function c(){if(window.wp&&window.wp.data&&"function"==typeof window.wp.data.subscribe){const e=window.wp.data.subscribe(function(){e(),a(t.getAttributionData())},o)}}t.getAttributionData=function(){const s=e.allowTracking&&r()?n:i,o=r()?sbjs.get:{},a=Object.entries(t.fields).map(([t,e])=>[t,s(o,e)]);return Object.fromEntries(a)},t.setOrderTracking=function(n){if(e.allowTracking=n,n){if(!r())return;sbjs.init({lifetime:Number(e.lifetime),session_length:Number(e.session),base64:Boolean(e.base64),timezone_offset:"0"})}else!function(){const t=window.location.hostname;["sbjs_current","sbjs_current_add","sbjs_first","sbjs_first_add","sbjs_session","sbjs_udata","sbjs_migrations","sbjs_promo"].forEach(e=>{document.cookie=`${e}=; path=/; max-age=-999; domain=.${t};`})}();const i=t.getAttributionData();!function(t){for(const e of document.querySelectorAll("wc-order-attribution-inputs"))e.values=t}(i),a(i)},t.setOrderTracking(e.allowTracking),"loading"===document.readyState?document.addEventListener("DOMContentLoaded",c):c(),window.customElements.define("wc-order-attribution-inputs",class extends HTMLElement{constructor(){if(super(),this._fieldNames=Object.keys(t.fields),this.hasOwnProperty("_values")){let t=this.values;delete this.values,this.values=t||{}}}connectedCallback(){this.innerHTML="";const t=new DocumentFragment;for(const n of this._fieldNames){const i=document.createElement("input");i.type="hidden",i.name=`${e.prefix}${n}`,i.value=s(this.values&&this.values[n]||""),t.appendChild(i)}this.appendChild(t)}set values(t){if(this._values=t,this.isConnected)for(const t of this._fieldNames){const n=this.querySelector(`input[name="${e.prefix}${t}"]`);n?n.value=s(this.values[t]):console.warn(`Field "${t}" not found. `+"Most likely, the '<wc-order-attribution-inputs>' element was manipulated.")}}get values(){return this._values}})}(window.wc_order_attribution);;
/*!
 * accounting.js v0.4.2
 * Copyright 2014 Open Exchange Rates
 *
 * Freely distributable under the MIT license.
 * Portions of accounting.js are inspired or borrowed from underscore.js
 *
 * Full details and documentation:
 * http://openexchangerates.github.io/accounting.js/
 */
!function(n,r){var e={version:"0.4.1",settings:{currency:{symbol:"$",format:"%s%v",decimal:".",thousand:",",precision:2,grouping:3},number:{precision:0,grouping:3,thousand:",",decimal:"."}}},t=Array.prototype.map,o=Array.isArray,a=Object.prototype.toString;function i(n){return!!(""===n||n&&n.charCodeAt&&n.substr)}function u(n){return o?o(n):"[object Array]"===a.call(n)}function c(n){return n&&"[object Object]"===a.call(n)}function s(n,r){var e;for(e in n=n||{},r=r||{})r.hasOwnProperty(e)&&null==n[e]&&(n[e]=r[e]);return n}function f(n,r,e){var o,a,i=[];if(!n)return i;if(t&&n.map===t)return n.map(r,e);for(o=0,a=n.length;o<a;o++)i[o]=r.call(e,n[o],o,n);return i}function p(n,r){return n=Math.round(Math.abs(n)),isNaN(n)?r:n}function l(n){var r=e.settings.currency.format;return"function"==typeof n&&(n=n()),i(n)&&n.match("%v")?{pos:n,neg:n.replace("-","").replace("%v","-%v"),zero:n}:n&&n.pos&&n.pos.match("%v")?n:i(r)?e.settings.currency.format={pos:r,neg:r.replace("%v","-%v"),zero:r}:r}var m,d=e.unformat=e.parse=function(n,r){if(u(n))return f(n,function(n){return d(n,r)});if("number"==typeof(n=n||0))return n;r=r||e.settings.number.decimal;var t=new RegExp("[^0-9-"+r+"]",["g"]),o=parseFloat((""+n).replace(/\((.*)\)/,"-$1").replace(t,"").replace(r,"."));return isNaN(o)?0:o},g=e.toFixed=function(n,r){r=p(r,e.settings.number.precision);var t=Math.pow(10,r);return(Math.round(e.unformat(n)*t)/t).toFixed(r)},h=e.formatNumber=e.format=function(n,r,t,o){if(u(n))return f(n,function(n){return h(n,r,t,o)});n=d(n);var a=s(c(r)?r:{precision:r,thousand:t,decimal:o},e.settings.number),i=p(a.precision),l=n<0?"-":"",m=parseInt(g(Math.abs(n||0),i),10)+"",y=m.length>3?m.length%3:0;return l+(y?m.substr(0,y)+a.thousand:"")+m.substr(y).replace(/(\d{3})(?=\d)/g,"$1"+a.thousand)+(i?a.decimal+g(Math.abs(n),i).split(".")[1]:"")},y=e.formatMoney=function(n,r,t,o,a,i){if(u(n))return f(n,function(n){return y(n,r,t,o,a,i)});n=d(n);var m=s(c(r)?r:{symbol:r,precision:t,thousand:o,decimal:a,format:i},e.settings.currency),g=l(m.format);return(n>0?g.pos:n<0?g.neg:g.zero).replace("%s",m.symbol).replace("%v",h(Math.abs(n),p(m.precision),m.thousand,m.decimal))};e.formatColumn=function(n,r,t,o,a,m){if(!n)return[];var g=s(c(r)?r:{symbol:r,precision:t,thousand:o,decimal:a,format:m},e.settings.currency),y=l(g.format),b=y.pos.indexOf("%s")<y.pos.indexOf("%v"),v=0;return f(f(n,function(n,r){if(u(n))return e.formatColumn(n,g);var t=((n=d(n))>0?y.pos:n<0?y.neg:y.zero).replace("%s",g.symbol).replace("%v",h(Math.abs(n),p(g.precision),g.thousand,g.decimal));return t.length>v&&(v=t.length),t}),function(n,r){return i(n)&&n.length<v?b?n.replace(g.symbol,g.symbol+new Array(v-n.length+1).join(" ")):new Array(v-n.length+1).join(" ")+n:n})},"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=e),exports.accounting=e):"function"==typeof define&&define.amd?define([],function(){return e}):(e.noConflict=(m=n.accounting,function(){return n.accounting=m,e.noConflict=void 0,e}),n.accounting=e)}(this);;
let ajax_price_req;let wc_gforms_current_variation;function gform_product_total(formId,total){let product_id=jQuery("input[name=product_id]").val();if(wc_gravityforms_params.use_ajax[product_id]){return update_dynamic_price_ajax(total,formId)}else{return update_dynamic_price(total,formId)}}
function get_gravity_forms_price(formId){if(!_gformPriceFields[formId]){return}
var price=0;_anyProductSelected=!1;for(var i=0;i<_gformPriceFields[formId].length;i++){price+=gformCalculateProductPrice(formId,_gformPriceFields[formId][i])}
if(_anyProductSelected){var shipping=gformGetShippingPrice(formId)
price+=shipping}
if(window.gform_product_total){price=window.gform_product_total(formId,price)}
price=gform.applyFilters('gform_product_total',price,formId);return price}
function update_dynamic_price(gform_total,formId=''){let $form=null;if(formId){$form=jQuery('#gform_'+formId)}else{$form=jQuery('form.cart')}
const product_id=$form.find("input[name=product_id]").val();const variation_id=$form.find("input[name=variation_id]").val();if(product_id||variation_id){let the_id=0;if(variation_id){the_id=variation_id}else{the_id=product_id}
let base_price=wc_gravityforms_params.prices[the_id];if($form.find('.wc-bookings-booking-cost').attr('data-raw-price')){base_price=$form.find('.wc-bookings-booking-cost').attr('data-raw-price')}
if(base_price==='UNAVAILABLE'){$form.find('.formattedBasePrice').html('--');$form.find('.formattedVariationTotal').html(accounting.formatMoney(gform_total,{symbol:wc_gravityforms_params.currency_format_symbol,decimal:wc_gravityforms_params.currency_format_decimal_sep,thousand:wc_gravityforms_params.currency_format_thousand_sep,precision:wc_gravityforms_params.currency_format_num_decimals,format:wc_gravityforms_params.currency_format}));$form.find('.formattedTotalPrice').html('--')}else{$form.find('.formattedBasePrice').html(accounting.formatMoney(base_price,{symbol:wc_gravityforms_params.currency_format_symbol,decimal:wc_gravityforms_params.currency_format_decimal_sep,thousand:wc_gravityforms_params.currency_format_thousand_sep,precision:wc_gravityforms_params.currency_format_num_decimals,format:wc_gravityforms_params.currency_format}));$form.find('.formattedVariationTotal').html(accounting.formatMoney(gform_total,{symbol:wc_gravityforms_params.currency_format_symbol,decimal:wc_gravityforms_params.currency_format_decimal_sep,thousand:wc_gravityforms_params.currency_format_thousand_sep,precision:wc_gravityforms_params.currency_format_num_decimals,format:wc_gravityforms_params.currency_format}));$form.find('.formattedTotalPrice').html(accounting.formatMoney(parseFloat(base_price)+parseFloat(gform_total),{symbol:wc_gravityforms_params.currency_format_symbol,decimal:wc_gravityforms_params.currency_format_decimal_sep,thousand:wc_gravityforms_params.currency_format_thousand_sep,precision:wc_gravityforms_params.currency_format_num_decimals,format:wc_gravityforms_params.currency_format})+wc_gravityforms_params.price_suffix[product_id])}}
return gform_total}
function update_dynamic_price_ajax(gform_total,formId=''){jQuery('div.product_totals').block({message:null,overlayCSS:{background:'#fff',opacity:0.6}});let $form=null;if(formId){$form=jQuery('#gform_'+formId)}else{$form=jQuery('form.cart')}
let product_id=jQuery("input[name=product_id]").val();let variation_id=wc_gforms_current_variation&&wc_gforms_current_variation!=='UNAVAILABLE'?wc_gforms_current_variation:0;let the_id=0;if(variation_id){the_id=variation_id}else{the_id=product_id}
let base_price=wc_gravityforms_params.prices[the_id];if($form.find('.wc-bookings-booking-cost').attr('data-raw-price')){base_price=$form.find('.wc-bookings-booking-cost').attr('data-raw-price')}
if(ajax_price_req){ajax_price_req.abort()}
let opts="base_price="+base_price+"&product_id="+product_id+"&variation_id="+variation_id;opts+='&action=gforms_get_updated_price&gform_total='+gform_total;ajax_price_req=jQuery.ajax({type:"POST",url:woocommerce_params.ajax_url,data:opts,dataType:'json',success:function(response){jQuery('.formattedBasePrice').html((response.formattedBasePrice));jQuery('.formattedVariationTotal').html(response.formattedVariationTotal);jQuery('.formattedTotalPrice').html(response.formattedTotalPrice);jQuery('div.product_totals').unblock()}});return gform_total}(function($){$.fn.wc_gravity_form=function(){let $form=this;if(!$form.hasClass('cart')){return this}
const form_id=$form.find("input[name=wc_gforms_form_id]").val();const product_type=$form.find("input[name=wc_gforms_product_type]").val();const product_id=jQuery("input[name=product_id]").val();const variation_id=jQuery("input[name=variation_id]").val();let the_product_id=0;if(product_id||variation_id){if(variation_id){the_product_id=variation_id}else{the_product_id=product_id}}
if(!form_id){return this}
if(wc_gravityforms_params.use_anchors&&$('.gform_validation_error','form.cart').length){if(!window.location.hash){window.location=window.location+'#gform_'+form_id}}
const next_page=parseInt($form.find("input[name=wc_gforms_next_page]").val(),10)||0;const previous_page=$form.find("input[name=wc_gforms_previous_page]").val();if(product_type!=='external'){$form.attr('action','')}
$form.attr('id','gform_'+form_id);$form.attr('data-formid',form_id);$form.on('found_variation',function(e,variation){try{wc_gforms_current_variation=variation.variation_id;gf_apply_rules(form_id,["0"])}catch(err){console.log(err)}
gformCalculateTotalPrice(form_id)});$form.on('wc_bookings_calculations_complete',function(e,result){if(result&&result.hasOwnProperty('raw_price')){$form.find('.wc-bookings-booking-cost').attr('data-raw-price',result.raw_price)}else{$form.find('.wc-bookings-booking-cost').attr('data-raw-price','UNAVAILABLE')}
gformCalculateTotalPrice(form_id)});$('button[type=submit]',$form).attr('id','gform_submit_button_'+form_id).addClass('button gform_button');if(next_page!==0){$('button[type=submit]',$form).remove();$('div.quantity',$form).remove();$('#wl-wrapper',$form).hide();const stripe_payment_request_wrapper=$form.find('#wc-stripe-payment-request-wrapper');if(stripe_payment_request_wrapper.length){stripe_payment_request_wrapper.remove()}
const wc_stripe_payment_request_button_separator=$form.find('#wc-stripe-payment-request-button-separator');if(wc_stripe_payment_request_button_separator.length){wc_stripe_payment_request_button_separator.remove()}}
$('.gform_next_button',$form).attr('onclick','');$('.gform_next_button',$form).click(function(event){if(!window.location.hash){window.location.hash='#_form_'+form_id}
$form.attr('action',window.location.hash);$("#gform_target_page_number_"+form_id,$form).val(next_page);$form.trigger("submit",[!0])});$('.gform_previous_button',$form).click(function(event){$("#gform_target_page_number_"+form_id,$form).val(previous_page);if(!window.location.hash){window.location.hash='#_form_'+form_id}
$form.attr('action',window.location.hash);$form.trigger("submit",[!0])});if(wc_gravityforms_params.initialize_file_uploader){$("form#gform_"+form_id+" .gform_fileupload_multifile").each(function(){if(typeof gfMultiFileUploader.uploaders[this.id]==="undefined"){console.log('Setting up multifile manually');gfMultiFileUploader.setup(this)}})}
return this};$(document).on('wc_variation_form',function(e){var $form=$(this);$form.wc_gravity_form()});$(document).ready(function(e){$('form.cart').each(function(index,form){var $form=$(form);$form.wc_gravity_form()})});$(document).on('quick_view_pro:open_complete',function(event,productId,$trigger){const quickViewContentId='#quick-view-'+productId;if(!$(quickViewContentId).length){console.debug('Quick View Pro: No quick view content found.');return}
const $quickViewContent=$(quickViewContentId);if($quickViewContent.find('form.cart').length){$quickViewContent.find('script').each(function(){const scripts=this.text||this.textContent||this.innerHTML||'';$.globalEval(scripts)});if(typeof window.gformInitSpinner!=='undefined'){window.gformInitSpinner()}
if(typeof window.gformInitDatepicker!=='undefined'){window.gformInitDatepicker()}
if(typeof window.gformInitPriceFields!=='undefined'){console.debug('Reinitializing price fields');window.gformInitPriceFields()}
$quickViewContent.find('form.cart').each(function(index,form){if($.fn.wc_gravity_form){$(form).wc_gravity_form()}})}});function handleBookingsAjaxCompletedEvent(event,jqXHR,ajaxOptions,$form){if(ajaxOptions.data&&ajaxOptions.data.indexOf('action=wc_bookings_calculate_costs')!==-1){try{let code=jqXHR.responseText;if(code.charAt(0)!=='{'){console.log(code);code='{'+code.split(/\{(.+)?/)[1]}
let result=JSON.parse(code);if(result&&result.hasOwnProperty('result')){$form.trigger('wc_bookings_calculations_complete',[result])}}catch(err){console.log(err)}}}
jQuery(document).ready(function($){if(window.wc_bookings){window.wc_bookings.hooks.addAction('wc_bookings_pre_calculte_booking_cost','wcgfpa',function(data){const $form=$(data.form);const scopedAjaxCompleteHandler=function(event,jqXHR,ajaxOptions){handleBookingsAjaxCompletedEvent(event,jqXHR,ajaxOptions,$form);$(document).off('ajaxComplete',scopedAjaxCompleteHandler);$form.data('ajaxCompleteHandler',null)};if(!$form.data('ajaxCompleteHandler')){$(document).on('ajaxComplete',scopedAjaxCompleteHandler);$form.data('ajaxCompleteHandler',scopedAjaxCompleteHandler)}})}})})(jQuery);