(b=>{function k(e,t){"WEEK"===t&&(e.attr("max",4),4<e.val())&&e.val(4),"DAY"===t&&(e.attr("max",30),30<e.val())&&e.val(30),"HOUR"===t&&(e.attr("max",720),720<e.val())&&e.val(720)}function t(e){var e=0<arguments.length&&void 0!==e?e:null,t=b(".merchant-recent-sales-notifications-widget"),n=b(".merchant-field-layout input:checked").val(),a=b(".merchant-field-theme_type input:checked").val(),c=b(".merchant-field-theme input:checked").val(),i=b(".merchant-field-background_image input"),r=b(".merchant-field-background_color input").val(),l=b(".merchant-field-border_color input").val(),o=b(".merchant-field-message_color input").val(),m=b(".merchant-field-product_name_color input").val(),d=b(".merchant-field-time_color input").val(),s=b(".merchant-field-hide_product_image input").is(":checked"),u=b(".merchant-field-hide_product_name input").is(":checked"),h=b(".merchant-field-notification_box_radius input"),f=b(".merchant-field-product_image_radius input"),p=b(".merchant-field-close_btn_bg_color input").val(),_=b(".merchant-field-close_btn_color input").val(),g=b(".merchant-field-single_product_purchase .merchant-field-time_unit select").val(),v=b(".merchant-field-single_product_add_to_cart .merchant-field-time_unit select").val(),y=b(".merchant-field-product_views_settings .merchant-field-time_unit select").val();k(b(".merchant-field-single_product_purchase .merchant-field-time_span input"),g),k(b(".merchant-field-single_product_add_to_cart .merchant-field-time_span input"),v),k(b(".merchant-field-product_views_settings .merchant-field-time_span input"),y),t.attr("class",function(e,t){return t.replace(/(^|\s)widget-layout-\S+/g,"")}),t.addClass("widget-"+n),null!==e&&b(e.target).closest(".merchant-field-layout").length&&("layout-1"!==n&&"layout-2"!==n||(h.val(8),f.val(8)),"layout-3"===n&&(h.val(8),f.val(50)),"layout-4"===n)&&(h.val(60),f.val(50)),document.documentElement.style.setProperty("--merchant-rsn-bg-color",r),"template"===a?i.val()&&void 0!==(g=JSON.parse(i.closest(".merchant-field-background_image").find(".merchant-upload-image").attr("data-sizes"))).full?document.documentElement.style.setProperty("--merchant-rsn-bg-image",'url( "'+g.full.url+'")'):document.documentElement.style.setProperty("--merchant-rsn-bg-image",'url( "'+MerchantRSN.merchant_url+"assets/images/modules/recent-sales-notifications/"+c+'.png")'):document.documentElement.style.setProperty("--merchant-rsn-bg-image","none"),document.documentElement.style.setProperty("--merchant-rsn-border-color",l),document.documentElement.style.setProperty("--merchant-rsn-close-btn-bg",p),document.documentElement.style.setProperty("--merchant-rsn-box-radius",h.val()+"px"),document.documentElement.style.setProperty("--merchant-rsn-box-product-image-radius",f.val()+"px"),t.find(".merchant-notification-message").css("color",o),t.find(".merchant-notification-title").css("color",m),t.find(".merchant-notification-time").css("color",d),s?t.find(".merchant-notification-image").hide():t.find(".merchant-notification-image").show(),u?t.find(".merchant-notification-title").hide():t.find(".merchant-notification-title").show(),b(".merchant-recent-sales-notifications-widget svg path").attr("fill",_)}b(document).on("change.merchant keyup click",'input[type="text"]:not(.merchant-color-input)',function(e){b(".merchant-recent-sales-notifications-widget").find(".merchant-notification-message").text(b(this).val().replace("{customer_name}","John Doe").replace("{country_code}","US").replace("{city}","New York").replace("{count}","7"))}),b(document).on("change.merchant keyup",function(e){t(e)}),b(document).ready(function(){t()})})(jQuery);