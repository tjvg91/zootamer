var merchant=merchant||{};merchant.modules=merchant.modules||{},(r=>{merchant.modules.loginPopups={init:function(){null!=merchant&&merchant.is_admin&&r(".merchant-module-page-preview input").removeAttr("required");var a,i,n,o=r("body"),e=r(".merchant-login-popup-toggle");e.length&&(a=r(".merchant-login-popup-body"),e.on("click",function(e){e.preventDefault(),o.toggleClass("merchant-login-popup-show"),a.hasClass("merchant-show")?a.removeClass("merchant-show"):setTimeout(function(){return a.addClass("merchant-show")},200)}),e=r(".merchant-login-popup-footer a"),i=r(".merchant-login-popup-content"),e.length&&(n=!0,e.on("click",function(e){e.preventDefault(),r(this).parent().toggleClass("merchant-show").siblings().toggleClass("merchant-show"),n?(i.find(".col-1").hide(),i.find(".col-2").show()):(i.find(".col-1").show(),i.find(".col-2").hide()),n=!n})),r(document).on("submit",".merchant-login-popup .woocommerce-form",function(e){e.preventDefault();var n,o,e=(null==merchant?void 0:merchant.setting)||{},t=e.nonce,e=e.ajax_url;e&&t&&(n=r(this),t={action:"merchant_ajax_login_register",form:(o=n.hasClass("woocommerce-form-login"))?"login":"register",username:n.find('input[name="username"]').val(),password:n.find('input[name="password"]').val(),email:n.find('input[name="email"]').val(),remember:n.find('input[name="rememberme"]').is(":checked"),nonce:t},r.ajax({type:"POST",url:e,data:t,beforeSend:function(e){n.find('button[type="submit"]').prop("disabled",!0),n.block({message:null,overlayCSS:{background:"#fff",opacity:.6}})},success:function(n){var e=i.find(".woocommerce-notices-wrapper");e.length&&e.fadeOut(200,function(){var e;r(this).empty().append(null==(e=n.data)?void 0:e.notice).fadeIn(200,function(){a.animate({scrollTop:0},200)})}),null!=n&&n.success&&(a.find(".u-column2").remove(),o)&&setTimeout(function(){return window.location.reload()},300)},error:function(e){console.log(e)},complete:function(){n.unblock().find('button[type="submit"]').prop("disabled",!1)}}))}))}},r(document).ready(function(){merchant.modules.loginPopups.init()})})(jQuery);