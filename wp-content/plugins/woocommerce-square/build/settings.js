(()=>{var e={106:(e,t)=>{!function(){var e={814:function(e,t,o){var n;function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}!function(){"use strict";var a={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var o=arguments[t];if(o){var n=r(o);if("string"===n||"number"===n)e.push(o);else if(Array.isArray(o)){if(o.length){var s=i.apply(null,o);s&&e.push(s)}}else if("object"===n){if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]")){e.push(o.toString());continue}for(var c in o)a.call(o,c)&&o[c]&&e.push(c)}}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):"object"===r(o.amdO)&&o.amdO?void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n):window.classNames=i}()},922:function(e){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var o="",n=void 0!==t[5];return t[4]&&(o+="@supports (".concat(t[4],") {")),t[2]&&(o+="@media ".concat(t[2]," {")),n&&(o+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),o+=e(t),n&&(o+="}"),t[2]&&(o+="}"),t[4]&&(o+="}"),o})).join("")},t.i=function(e,o,n,r,a){"string"==typeof e&&(e=[[null,e,void 0]]);var i={};if(n)for(var s=0;s<this.length;s++){var c=this[s][0];null!=c&&(i[c]=!0)}for(var l=0;l<e.length;l++){var u=[].concat(e[l]);n&&i[u[0]]||(void 0!==a&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=a),o&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=o):u[2]=o),r&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=r):u[4]="".concat(r)),t.push(u))}},t}},499:function(e){"use strict";e.exports=function(e){return e[1]}},245:function(e,t,o){"use strict";var n=o(499),r=o.n(n),a=o(922),i=o.n(a)()(r());i.push([e.id,':root{--wp-admin-theme-color: #007cba;--wp-admin-theme-color--rgb: 0,124,186;--wp-admin-theme-color-darker-10: #006ba1;--wp-admin-theme-color-darker-10--rgb: 0,107,160.5;--wp-admin-theme-color-darker-20: #005a87;--wp-admin-theme-color-darker-20--rgb: 0,90,135;--wp-admin-border-width-focus: 2px}@media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi){:root{--wp-admin-border-width-focus: 1.5px}}.codeamp-components-multi-select-control__input-container{font-size:13px;line-height:normal}.codeamp-components-multi-select-control__input-container{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;padding:6px 8px;box-shadow:0 0 0 transparent;transition:box-shadow 0.1s linear;border-radius:2px;border:1px solid #757575;font-size:16px;line-height:normal;width:100%;margin:0 0 8px 0;padding:0;cursor:text}@media (prefers-reduced-motion: reduce){.codeamp-components-multi-select-control__input-container{transition-duration:0s;transition-delay:0s}}@media (min-width: 600px){.codeamp-components-multi-select-control__input-container{font-size:13px;line-height:normal}}.codeamp-components-multi-select-control__input-container:focus{border-color:var(--wp-admin-theme-color);box-shadow:0 0 0 1px var(--wp-admin-theme-color);outline:2px solid transparent}.codeamp-components-multi-select-control__input-container::-webkit-input-placeholder{color:rgba(30,30,30,0.62)}.codeamp-components-multi-select-control__input-container::-moz-placeholder{opacity:1;color:rgba(30,30,30,0.62)}.codeamp-components-multi-select-control__input-container:-ms-input-placeholder{color:rgba(30,30,30,0.62)}.codeamp-components-multi-select-control__input-container.is-disabled{background:#ddd;border-color:#ddd}.codeamp-components-multi-select-control__input-container.is-active{border-color:var(--wp-admin-theme-color);box-shadow:0 0 0 1px var(--wp-admin-theme-color);outline:2px solid transparent}.codeamp-components-multi-select-control__input-container input[type="text"].codeamp-components-multi-select-control__input{display:inline-block;flex:1;font-family:inherit;font-size:16px;width:100%;max-width:100%;margin-left:4px;padding:0;min-height:24px;min-width:50px;background:inherit;border:0;color:#1e1e1e;box-shadow:none}@media (min-width: 600px){.codeamp-components-multi-select-control__input-container input[type="text"].codeamp-components-multi-select-control__input{font-size:13px}}.codeamp-components-multi-select-control__input-container input[type="text"].codeamp-components-multi-select-control__input:focus,.codeamp-components-multi-select-control.is-active .codeamp-components-multi-select-control__input-container input[type="text"].codeamp-components-multi-select-control__input{outline:none;box-shadow:none}.codeamp-components-multi-select-control__input-container .codeamp-components-multi-select-control__token+input[type="text"].codeamp-components-multi-select-control__input{width:auto}.codeamp-components-multi-select-control__help{font-size:12px;font-style:normal;color:#757575}.codeamp-components-multi-select-control__tokens-container{padding:4px}.codeamp-components-multi-select-control__token{font-size:13px;display:flex;color:#1e1e1e;max-width:100%}.codeamp-components-multi-select-control__token.is-borderless{position:relative;padding:0 24px 0 0}.codeamp-components-multi-select-control__token.is-borderless .codeamp-components-multi-select-control__token-text{background:transparent;color:var(--wp-admin-theme-color)}.codeamp-components-multi-select-control__token.is-borderless .codeamp-components-multi-select-control__remove-token{background:transparent;color:#757575;position:absolute;top:1px;right:0;padding:0}.codeamp-components-multi-select-control__token.is-borderless.is-success .codeamp-components-multi-select-control__token-text{color:#4ab866}.codeamp-components-multi-select-control__token.is-borderless.is-error .codeamp-components-multi-select-control__token-text{color:#cc1818;border-radius:4px 0 0 4px;padding:0 4px 0 6px}.codeamp-components-multi-select-control__token.is-borderless.is-validating .codeamp-components-multi-select-control__token-text{color:#1e1e1e}.codeamp-components-multi-select-control__token.is-disabled .codeamp-components-multi-select-control__remove-token{cursor:default}.codeamp-components-multi-select-control__token-text,.codeamp-components-multi-select-control__remove-token.components-button{display:inline-block;line-height:24px;height:auto;background:#ddd;min-width:unset;transition:all 0.2s cubic-bezier(0.4, 1, 0.4, 1)}@media (prefers-reduced-motion: reduce){.codeamp-components-multi-select-control__token-text,.codeamp-components-multi-select-control__remove-token.components-button{transition-duration:0s;transition-delay:0s;animation-duration:1ms;animation-delay:0s}}.codeamp-components-multi-select-control__token-text{border-radius:2px 0 0 2px;padding:0 0 0 8px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.codeamp-components-multi-select-control__remove-token.components-button{cursor:pointer;border-radius:0 2px 2px 0;padding:0 2px;color:#1e1e1e;line-height:10px;overflow:initial}.codeamp-components-multi-select-control__remove-token.components-button:hover{color:#1e1e1e}.codeamp-components-multi-select-control__suggestions-list{flex:1 0 100%;min-width:100%;max-height:9em;overflow-y:auto;transition:all 0.15s ease-in-out;list-style:none;border-top:1px solid #757575;margin:0;padding:0}@media (prefers-reduced-motion: reduce){.codeamp-components-multi-select-control__suggestions-list{transition-duration:0s;transition-delay:0s}}.codeamp-components-multi-select-control__no-suggestions{color:#757575;font-size:13px;margin:0;display:block;padding:4px 8px}.codeamp-components-multi-select-control__suggestion{color:#757575;display:block;font-size:13px;padding:4px 8px;margin:0;cursor:pointer}.codeamp-components-multi-select-control__suggestion.is-selected{background:var(--wp-admin-theme-color);color:#fff}.codeamp-components-multi-select-control__suggestion-match{text-decoration:underline}\n',""]),t.Z=i},313:function(e,t,o){"use strict";var n=o(499),r=o.n(n),a=o(922),i=o.n(a)()(r());i.push([e.id,".codeamp-components-resource-select-control>.components-base-control__field{position:relative;display:flex;flex-wrap:wrap}.codeamp-components-resource-select-control>.components-base-control__field>.components-base-control__label{flex:2}.codeamp-components-resource-select-control__label{margin-bottom:8px}.codeamp-components-resource-select-control__add_button{padding:0;margin:0;min-height:revert;height:auto;color:var(--wp-admin-theme-color);align-self:center;justify-content:right;margin-bottom:8px}.codeamp-components-resource-select-control__add_button:hover{text-decoration:underline}.codeamp-components-resource-select-control__edit_button.components-button.is-secondary{height:auto;margin-bottom:0}.codeamp-components-resource-select-control__select{width:auto;flex:1}.codeamp-components-resource-select-control .components-base-control{margin-bottom:0}.codeamp-components-resource-select-control .components-base-control__field{margin-bottom:0}.codeamp-components-resource-select-control .components-base-control{flex:1}\n",""]),t.Z=i},379:function(e){"use strict";var t=[];function o(e){for(var o=-1,n=0;n<t.length;n++)if(t[n].identifier===e){o=n;break}return o}function n(e,n){for(var a={},i=[],s=0;s<e.length;s++){var c=e[s],l=n.base?c[0]+n.base:c[0],u=a[l]||0,d="".concat(l," ").concat(u);a[l]=u+1;var p=o(d),m={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==p)t[p].references++,t[p].updater(m);else{var f=r(m,n);n.byIndex=s,t.splice(s,0,{identifier:d,updater:f,references:1})}i.push(d)}return i}function r(e,t){var o=t.domAPI(t);return o.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;o.update(e=t)}else o.remove()}}e.exports=function(e,r){var a=n(e=e||[],r=r||{});return function(e){e=e||[];for(var i=0;i<a.length;i++){var s=o(a[i]);t[s].references--}for(var c=n(e,r),l=0;l<a.length;l++){var u=o(a[l]);0===t[u].references&&(t[u].updater(),t.splice(u,1))}a=c}}},569:function(e){"use strict";var t={};e.exports=function(e,o){var n=function(e){if(void 0===t[e]){var o=document.querySelector(e);if(window.HTMLIFrameElement&&o instanceof window.HTMLIFrameElement)try{o=o.contentDocument.head}catch(e){o=null}t[e]=o}return t[e]}(e);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(o)}},216:function(e){"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},565:function(e,t,o){"use strict";e.exports=function(e){var t=o.nc;t&&e.setAttribute("nonce",t)}},795:function(e){"use strict";e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(o){!function(e,t,o){var n="";o.supports&&(n+="@supports (".concat(o.supports,") {")),o.media&&(n+="@media ".concat(o.media," {"));var r=void 0!==o.layer;r&&(n+="@layer".concat(o.layer.length>0?" ".concat(o.layer):""," {")),n+=o.css,r&&(n+="}"),o.media&&(n+="}"),o.supports&&(n+="}");var a=o.sourceMap;a&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),t.styleTagTransform(n,e,t.options)}(t,e,o)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},589:function(e){"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}}},o={};function n(t){var r=o[t];if(void 0!==r)return r.exports;var a=o[t]={id:t,exports:{}};return e[t](a,a.exports,n),a.exports}n.amdO={},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nc=void 0;var r={};!function(){"use strict";n.r(r),n.d(r,{MultiSelectControl:function(){return ve},ResourceSelectControl:function(){return C}});var e=window.wp.i18n,t=window.wp.components,o=window.wp.compose,a=n(379),i=n.n(a),s=n(795),c=n.n(s),l=n(569),u=n.n(l),d=n(565),p=n.n(d),m=n(216),f=n.n(m),h=n(589),g=n.n(h),_=n(313),y={};y.styleTagTransform=g(),y.setAttributes=p(),y.insert=u().bind(null,"head"),y.domAPI=c(),y.insertStyleElement=f(),i()(_.Z,y),_.Z&&_.Z.locals&&_.Z.locals;var b=n(814),v=n.n(b);function w(){return w=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},w.apply(this,arguments)}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=new Array(t);o<t;o++)n[o]=e[o];return n}var x=function(){},C=function n(r){var a,i,s,c,l=r.onChange,u=void 0===l?x:l,d=r.onPrimaryAction,p=void 0===d?x:d,m=r.onSecondaryAction,f=void 0===m?x:m,h=r.label,g=void 0===h?"":h,_=r.primaryActionLabel,y=void 0===_?(0,e.__)("Edit","codeamp-block-components"):_,b=r.secondaryActionLabel,C=void 0===b?(0,e.__)("Add new","codeamp-block-components"):b,k=r.loadingLabel,E=void 0===k?(0,e.__)("Loading","codeamp-block-components"):k,T=r.showPrimaryAction,j=void 0===T||T,q=r.disabled,A=void 0!==q&&q,P=r.showSecondaryAction,O=void 0===P||P,D=r.defaultOption,I=r.options,N=r.value,R=r.help,M=r.primaryActionProps,L=r.secondaryActionProps,B=r.id,F=r.className,z=[];E&&(z=[{value:"loading",label:E}]),I&&(z=[],D&&z.push(D),(s=z).push.apply(s,function(e){if(Array.isArray(e))return S(e)}(c=I)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(c)||function(e,t){if(e){if("string"==typeof e)return S(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?S(e,t):void 0}}(c)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()));var G=(0,o.useInstanceId)(n,"codeamp-components-resource-select-control");return B&&(G=B),React.createElement(t.BaseControl,{id:G,className:v()("components-base-control codeamp-components-resource-select-control",F),help:R,label:g,__nextHasNoMarginBottom:!0},O&&React.createElement(t.Button,w({className:"codeamp-components-resource-select-control__add_button",disabled:A,onClick:f},L),null!==(a=null==L?void 0:L.label)&&void 0!==a?a:C),React.createElement(t.__experimentalHStack,null,React.createElement(t.SelectControl,{id:G,value:N,options:z,className:"codeamp-components-resource-select-control__select",onChange:u,disabled:A,__nextHasNoMarginBottom:!0}),j&&React.createElement(t.Button,w({onClick:p,variant:"secondary",disabled:A,className:"codeamp-components-resource-select-control__edit_button"},M),null!==(i=null==M?void 0:M.label)&&void 0!==i?i:y)))},k=window.wp.element,E=window.wp.a11y,T=window.wp.isShallowEqual,j=n.n(T),q=window.wp.primitives,A=(0,k.createElement)(q.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,k.createElement)(q.Path,{d:"M12 13.06l3.712 3.713 1.061-1.06L13.061 12l3.712-3.712-1.06-1.06L12 10.938 8.288 7.227l-1.061 1.06L10.939 12l-3.712 3.712 1.06 1.061L12 13.061z"})),P=function(){};function O(n){var r=n.value,a=n.label,i=n.title,s=n.isBorderless,c=void 0!==s&&s,l=n.disabled,u=void 0!==l&&l,d=n.onClickRemove,p=void 0===d?P:d,m=n.onMouseEnter,f=n.onMouseLeave,h=n.messages,g=n.termPosition,_=n.termsCount,y=(0,o.useInstanceId)(O),b=v()("codeamp-components-multi-select-control__token",{"is-borderless":c,"is-disabled":u}),w=(0,e.sprintf)((0,e.__)("%1$s (%2$s of %3$s)"),a,g,_);return React.createElement("span",{className:b,onMouseEnter:m,onMouseLeave:f,title:i,style:{margin:"0"}},React.createElement("span",{className:"codeamp-components-multi-select-control__token-text",id:"codeamp-components-multi-select-control__token-text-".concat(y)},React.createElement(t.VisuallyHidden,{as:"span"},w),React.createElement("span",{"aria-hidden":"true"},a)),React.createElement(t.Button,{className:"codeamp-components-multi-select-control__remove-token",icon:A,onClick:u?P:function(){return p({value:r})},label:h.remove,"aria-describedby":"codeamp-components-multi-select-control__token-text-".concat(y)}))}var D=["value","isExpanded","instanceId","selectedSuggestionIndex","className","onChange","onFocus","onBlur"];function I(){return I=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},I.apply(this,arguments)}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=new Array(t);o<t;o++)n[o]=e[o];return n}var R=(0,k.forwardRef)((function(e,t){var o=e.value,n=e.isExpanded,r=e.instanceId,a=e.selectedSuggestionIndex,i=e.className,s=e.onChange,c=e.onFocus,l=e.onBlur,u=function(e,t){if(null==e)return{};var o,n,r=function(e,t){if(null==e)return{};var o,n,r={},a=Object.keys(e);for(n=0;n<a.length;n++)o=a[n],t.indexOf(o)>=0||(r[o]=e[o]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)o=a[n],t.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(r[o]=e[o])}return r}(e,D),d=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var n,r,a=[],i=!0,s=!1;try{for(o=o.call(e);!(i=(n=o.next()).done)&&(a.push(n.value),2!==a.length);i=!0);}catch(e){s=!0,r=e}finally{try{i||null==o.return||o.return()}finally{if(s)throw r}}return a}}(e)||function(e,t){if(e){if("string"==typeof e)return N(e,2);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?N(e,2):void 0}}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,k.useState)(!1)),p=d[0],m=d[1],f=o?o.length+1:0;return React.createElement("input",I({ref:t,id:r,type:"text"},u,{value:o||"",onChange:function(e){s&&s({value:e.target.value})},onFocus:function(e){m(!0),null==c||c(e)},onBlur:function(e){m(!1),null==l||l(e)},size:f,className:v()(i,"codeamp-components-multi-select-control__input"),autoComplete:"off",role:"combobox","aria-expanded":n,"aria-autocomplete":"list","aria-owns":n?"".concat(r,"-suggestions"):void 0,"aria-activedescendant":p&&-1!==a&&n?"".concat(r,"-suggestions-").concat(a):void 0,"aria-describedby":"".concat(r,"-howto"),"data-lpignore":"true"}))}));function M(e){return M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},M(e)}function L(e){return L="function"==typeof Symbol&&"symbol"===M(Symbol.iterator)?function(e){return M(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":M(e)},L(e)}function B(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function F(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function z(e,t){var o=e["page".concat(t?"Y":"X","Offset")],n="scroll".concat(t?"Top":"Left");if("number"!=typeof o){var r=e.document;"number"!=typeof(o=r.documentElement[n])&&(o=r.body[n])}return o}function G(e){return z(e)}function W(e){return z(e,!0)}function H(e){var t=function(e){var t,o,n,r=e.ownerDocument,a=r.body,i=r&&r.documentElement;return o=(t=e.getBoundingClientRect()).left,n=t.top,{left:o-=i.clientLeft||a.clientLeft||0,top:n-=i.clientTop||a.clientTop||0}}(e),o=e.ownerDocument,n=o.defaultView||o.parentWindow;return t.left+=G(n),t.top+=W(n),t}var U,V=new RegExp("^(".concat(/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,")(?!px)[a-z%]+$"),"i"),$=/^(top|right|bottom|left)$/;function X(e,t){for(var o=0;o<e.length;o++)t(e[o])}function Z(e){return"border-box"===U(e,"boxSizing")}"undefined"!=typeof window&&(U=window.getComputedStyle?function(e,t,o){var n="",r=e.ownerDocument,a=o||r.defaultView.getComputedStyle(e,null);return a&&(n=a.getPropertyValue(t)||a[t]),n}:function(e,t){var o=e.currentStyle&&e.currentStyle[t];if(V.test(o)&&!$.test(t)){var n=e.style,r=n.left,a=e.runtimeStyle.left;e.runtimeStyle.left=e.currentStyle.left,n.left="fontSize"===t?"1em":o||0,o=n.pixelLeft+"px",n.left=r,e.runtimeStyle.left=a}return""===o?"auto":o});var Y=["margin","border","padding"];function K(e,t,o){var n,r,a,i=0;for(r=0;r<t.length;r++)if(n=t[r])for(a=0;a<o.length;a++){var s;s="border"===n?"".concat(n+o[a],"Width"):n+o[a],i+=parseFloat(U(e,s))||0}return i}function J(e){return null!=e&&e==e.window}var Q={};function ee(e,t,o){if(J(e))return"width"===t?Q.viewportWidth(e):Q.viewportHeight(e);if(9===e.nodeType)return"width"===t?Q.docWidth(e):Q.docHeight(e);var n="width"===t?["Left","Right"]:["Top","Bottom"],r="width"===t?e.offsetWidth:e.offsetHeight,a=(U(e),Z(e)),i=0;(null==r||r<=0)&&(r=void 0,(null==(i=U(e,t))||Number(i)<0)&&(i=e.style[t]||0),i=parseFloat(i)||0),void 0===o&&(o=a?1:-1);var s=void 0!==r||a,c=r||i;if(-1===o)return s?c-K(e,["border","padding"],n):i;if(s){var l=2===o?-K(e,["border"],n):K(e,["margin"],n);return c+(1===o?0:l)}return i+K(e,Y.slice(o),n)}X(["Width","Height"],(function(e){Q["doc".concat(e)]=function(t){var o=t.document;return Math.max(o.documentElement["scroll".concat(e)],o.body["scroll".concat(e)],Q["viewport".concat(e)](o))},Q["viewport".concat(e)]=function(t){var o="client".concat(e),n=t.document,r=n.body,a=n.documentElement[o];return"CSS1Compat"===n.compatMode&&a||r&&r[o]||a}}));var te={position:"absolute",visibility:"hidden",display:"block"};function oe(e){var t,o=arguments;return 0!==e.offsetWidth?t=ee.apply(void 0,o):function(e,t,o){var n,r={},a=e.style;for(n in t)t.hasOwnProperty(n)&&(r[n]=a[n],a[n]=t[n]);for(n in o.call(e),t)t.hasOwnProperty(n)&&(a[n]=r[n])}(e,te,(function(){t=ee.apply(void 0,o)})),t}function ne(e,t,o){var n=o;if("object"!==L(t))return void 0!==n?("number"==typeof n&&(n+="px"),void(e.style[t]=n)):U(e,t);for(var r in t)t.hasOwnProperty(r)&&ne(e,r,t[r])}X(["width","height"],(function(e){var t=e.charAt(0).toUpperCase()+e.slice(1);Q["outer".concat(t)]=function(t,o){return t&&oe(t,e,o?0:1)};var o="width"===e?["Left","Right"]:["Top","Bottom"];Q[e]=function(t,n){return void 0===n?t&&oe(t,e,-1):t?(U(t),Z(t)&&(n+=K(t,["padding","border"],o)),ne(t,e,n)):void 0}}));var re=function(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?F(o,!0).forEach((function(t){B(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):F(o).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}({getWindow:function(e){var t=e.ownerDocument||e;return t.defaultView||t.parentWindow},offset:function(e,t){if(void 0===t)return H(e);!function(e,t){"static"===ne(e,"position")&&(e.style.position="relative");var o,n,r=H(e),a={};for(n in t)t.hasOwnProperty(n)&&(o=parseFloat(ne(e,n))||0,a[n]=o+t[n]-r[n]);ne(e,a)}(e,t)},isWindow:J,each:X,css:ne,clone:function(e){var t={};for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);if(e.overflow)for(var n in e)e.hasOwnProperty(n)&&(t.overflow[n]=e.overflow[n]);return t},scrollLeft:function(e,t){if(J(e)){if(void 0===t)return G(e);window.scrollTo(t,W(e))}else{if(void 0===t)return e.scrollLeft;e.scrollLeft=t}},scrollTop:function(e,t){if(J(e)){if(void 0===t)return W(e);window.scrollTo(G(e),t)}else{if(void 0===t)return e.scrollTop;e.scrollTop=t}},viewportWidth:0,viewportHeight:0},Q);function ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=new Array(t);o<t;o++)n[o]=e[o];return n}var ie=function(e){e.preventDefault()},se=function(t){var n=t.selectedIndex,r=t.scrollIntoView,a=t.searchValue,i=t.onHover,s=t.onSelect,c=t.suggestions,l=void 0===c?[]:c,u=t.instanceId,d=t.__experimentalRenderItem,p=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var n,r,a=[],i=!0,s=!1;try{for(o=o.call(e);!(i=(n=o.next()).done)&&(a.push(n.value),2!==a.length);i=!0);}catch(e){s=!0,r=e}finally{try{i||null==o.return||o.return()}finally{if(s)throw r}}return a}}(e)||function(e,t){if(e){if("string"==typeof e)return ae(e,2);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?ae(e,2):void 0}}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,k.useState)(!1)),m=p[0],f=p[1],h=(0,o.useRefEffect)((function(e){var t;return n>-1&&r&&e.children[n]&&(f(!0),function(e,t,o){o=o||{},9===t.nodeType&&(t=re.getWindow(t));var n=o.allowHorizontalScroll,r=o.onlyScrollIfNeeded,a=o.alignWithTop,i=o.alignWithLeft,s=o.offsetTop||0,c=o.offsetLeft||0,l=o.offsetBottom||0,u=o.offsetRight||0;n=void 0===n||n;var d,p,m,f,h,g,_,y,b,v,w=re.isWindow(t),S=re.offset(e),x=re.outerHeight(e),C=re.outerWidth(e);w?(_=t,v=re.height(_),b=re.width(_),y={left:re.scrollLeft(_),top:re.scrollTop(_)},h={left:S.left-y.left-c,top:S.top-y.top-s},g={left:S.left+C-(y.left+b)+u,top:S.top+x-(y.top+v)+l},f=y):(d=re.offset(t),p=t.clientHeight,m=t.clientWidth,f={left:t.scrollLeft,top:t.scrollTop},h={left:S.left-(d.left+(parseFloat(re.css(t,"borderLeftWidth"))||0))-c,top:S.top-(d.top+(parseFloat(re.css(t,"borderTopWidth"))||0))-s},g={left:S.left+C-(d.left+m+(parseFloat(re.css(t,"borderRightWidth"))||0))+u,top:S.top+x-(d.top+p+(parseFloat(re.css(t,"borderBottomWidth"))||0))+l}),h.top<0||g.top>0?!0===a?re.scrollTop(t,f.top+h.top):!1===a?re.scrollTop(t,f.top+g.top):h.top<0?re.scrollTop(t,f.top+h.top):re.scrollTop(t,f.top+g.top):r||((a=void 0===a||!!a)?re.scrollTop(t,f.top+h.top):re.scrollTop(t,f.top+g.top)),n&&(h.left<0||g.left>0?!0===i?re.scrollLeft(t,f.left+h.left):!1===i?re.scrollLeft(t,f.left+g.left):h.left<0?re.scrollLeft(t,f.left+h.left):re.scrollLeft(t,f.left+g.left):r||((i=void 0===i||!!i)?re.scrollLeft(t,f.left+h.left):re.scrollLeft(t,f.left+g.left)))}(e.children[n],e,{onlyScrollIfNeeded:!0}),t=requestAnimationFrame((function(){f(!1)}))),function(){void 0!==t&&cancelAnimationFrame(t)}}),[n,r]),g=function(e){return function(){m||null==i||i(e)}},_=function(e){return function(){null==s||s(e)}};return React.createElement("ul",{ref:h,className:"codeamp-components-multi-select-control__suggestions-list",id:"".concat(u,"-suggestions"),role:"listbox"},0===l.length&&React.createElement("li",{className:"codeamp-components-multi-select-control__no-suggestions",role:"option"},(0,e.__)("No results found.","codeamp-block-components")),l.map((function(e,t){var o,r=function(e){var t=e.label.toLocaleLowerCase().indexOf(a);return{suggestionBeforeMatch:e.label.substring(0,t),suggestionMatch:e.label.substring(t,t+a.length),suggestionAfterMatch:e.label.substring(t+a.length)}}(e),i=v()("codeamp-components-multi-select-control__suggestion",{"is-selected":t===n});return o="function"==typeof d?d({item:e}):r?React.createElement("span",{"aria-label":e.label},r.suggestionBeforeMatch,React.createElement("strong",{className:"codeamp-components-multi-select-control__suggestion-match"},r.suggestionMatch),r.suggestionAfterMatch):e.label,React.createElement("li",{id:"".concat(u,"-suggestions-").concat(t),role:"option",className:i,key:e.value,onMouseDown:ie,onClick:_(e),onMouseEnter:g(e),"aria-selected":t===n},o)})))},ce=n(245),le={};function ue(){return ue=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},ue.apply(this,arguments)}function de(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function pe(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function me(e){return me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},me(e)}function fe(e){return function(e){if(Array.isArray(e))return _e(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ge(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function he(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var n,r,a=[],i=!0,s=!1;try{for(o=o.call(e);!(i=(n=o.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(e){s=!0,r=e}finally{try{i||null==o.return||o.return()}finally{if(s)throw r}}return a}}(e,t)||ge(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ge(e,t){if(e){if("string"==typeof e)return _e(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?_e(e,t):void 0}}function _e(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=new Array(t);o<t;o++)n[o]=e[o];return n}function ye(e){if(""===e)return null;var t=null!=e?e:"",o=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).find((function(e){return-1!==e.label.toLocaleLowerCase().indexOf(t.trim().toLocaleLowerCase())}));return o}le.styleTagTransform=g(),le.setAttributes=p(),le.insert=u().bind(null,"head"),le.domAPI=c(),le.insertStyleElement=f(),i()(ce.Z,le),ce.Z&&ce.Z.locals&&ce.Z.locals;var be=function(){};function ve(n){var r=n.autoCapitalize,a=n.autoComplete,i=n.maxLength,s=n.placeholder,c=n.label,l=void 0===c?(0,e.__)("Add item"):c,u=n.help,d=n.className,p=n.suggestions,m=void 0===p?[]:p,f=n.options,h=void 0===f?[]:f,g=n.maxSuggestions,_=void 0===g?100:g,y=n.value,b=void 0===y?[]:y,w=n.onChange,S=void 0===w?function(){}:w,x=n.onInputChange,C=void 0===x?function(){}:x,T=n.onFocus,q=void 0===T?void 0:T,A=(n.isBorderless,n.id),P=n.disabled,D=void 0!==P&&P,I=n.messages,N=void 0===I?{added:(0,e.__)("Item added."),removed:(0,e.__)("Item removed."),remove:(0,e.__)("Remove item"),__experimentalInvalid:(0,e.__)("Invalid item")}:I,M=n.__experimentalRenderItem,L=n.__experimentalAutoSelectFirstMatch,B=void 0===L||L,F=n.__experimentalValidateInput,z=void 0===F?function(){return!0}:F,G=n.__experimentalCloseSuggestionsOnSelect,W=void 0===G||G,H=n.__next36pxDefaultSize,U=void 0!==H&&H,V=(0,o.useInstanceId)(ve,"codeamp-components-multi-select-control");A&&(V=A);var $=he((0,k.useState)(""),2),X=$[0],Z=$[1],Y=he((0,k.useState)(0),2),K=Y[0],J=Y[1],Q=he((0,k.useState)(!1),2),ee=Q[0],te=Q[1],oe=he((0,k.useState)(!1),2),ne=oe[0],re=oe[1],ae=he((0,k.useState)(-1),2),ie=ae[0],ce=ae[1],le=he((0,k.useState)(!1),2),ge=le[0],_e=le[1],we=(0,o.usePrevious)(m),Se=(0,o.usePrevious)(b),xe=(0,k.useRef)(null),Ce=(0,k.useRef)(null),ke=(0,o.useDebounce)(E.speak,500);function Ee(){var e;null===(e=xe.current)||void 0===e||e.focus()}function Te(){var e;return xe.current===(null===(e=xe.current)||void 0===e?void 0:e.ownerDocument.activeElement)}function je(e){Te()||e.target===Ce.current?(te(!0),re(!0)):te(!1),"function"==typeof q&&q(e)}function qe(e){e.target===Ce.current&&ee&&e.preventDefault()}function Ae(e){Ne(e.value),Ee()}function Pe(e){var t=!1;return Te()&&Fe()&&(e(),t=!0),t}function Oe(){var e=Be()-1;e>-1&&Ne(b[e])}function De(){var e=Be();e<b.length&&(Ne(b[e]),function(e){J(b.length-Math.max(e,-1)-1)}(e))}function Ie(e){z(e.label)?(function(e){if(fe(new Set(e.filter((function(e){return!function(e){return b.some((function(t){return Re(e)===Re(t)}))}(e)})))),e.length>0){var t=fe(b);t.splice.apply(t,[Be(),0].concat(fe(e))),S(t)}}([e.value]),(0,E.speak)(N.added,"assertive"),Z(""),_e(!1),ce(-1),W&&re(!1),ee&&Ee()):(0,E.speak)(N.__experimentalInvalid,"assertive")}function Ne(e){var t=b.filter((function(t){return Re(t)!==Re(e)}));S(t),(0,E.speak)(N.removed,"assertive")}function Re(e){return"object"===me(e)?e.value:e}function Me(){return h.filter((function(e){return-1===b.indexOf(e.value)}))}function Le(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Me(),o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:_;if(""!==e.trim()){var n=[],r=[];t.forEach((function(t){var o=t.label.toLocaleLowerCase().indexOf(e.trim().toLocaleLowerCase());0===o?n.push(t):o>0&&r.push(t)})),t=n.concat(r)}return t.slice(0,o)}function Be(){return b.length-K}function Fe(){return 0===X.length}function ze(){var e,t;return(null===(e=ye(X))||void 0===e||null===(t=e.label)||void 0===t?void 0:t.length)>0}function Ge(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],o=Le(X),n=o.length>0;t&&(B&&n?(ce(0),_e(!0)):(ce(-1),_e(!1))),ce(0);var r=n?(0,e.sprintf)((0,e._n)("%d result found, use up and down arrow keys to navigate.","%d results found, use up and down arrow keys to navigate.",o.length),o.length):(0,e.__)("No results.");ke(r,"assertive")}(0,k.useEffect)((function(){ee&&!Te()&&Ee()}),[ee]),(0,k.useEffect)((function(){var e=!j()(m,we||[]);(e||b!==Se)&&Ge(e)}),[m,we,b,Se]),(0,k.useEffect)((function(){Ge()}),[X]),D&&ee&&(te(!1),Z(""));var We,He,Ue=v()(d,"codeamp-components-multi-select-control__input-container",{"is-active":ee,"is-disabled":D}),Ve={className:"components-base-control codeamp-components-multi-select-control",tabIndex:-1},$e=Le();return D||(Ve=Object.assign({},Ve,{onKeyDown:function(e){var t=!1;if(!e.defaultPrevented){switch(e.code){case"Backspace":t=Pe(Oe);break;case"Enter":case"Space":t=function(){var e=!1,t=function(){if(-1!==ie)return Le()[ie]}();return t&&ne?(Ie(t),e=!0):ze()&&""!==X.trim()&&(Ie(X),e=!0),e}();break;case"ArrowLeft":t=function(){var e=!1;return Fe()&&(J((function(e){return Math.min(e+1,b.length)})),e=!0),e}();break;case"ArrowUp":t=ne?(ce((function(e){return(0===e?Le(X,Me(),b,_).length:e)-1})),_e(!0),!0):(re(!0),ce(0),_e(!0),!0);break;case"ArrowRight":t=function(){var e=!1;return Fe()&&(J((function(e){return Math.max(e-1,0)})),e=!0),e}();break;case"ArrowDown":t=ne?(ce((function(e){return(e+1)%Le(X,Me(),b,_).length})),_e(!0),!0):(re(!0),ce(0),_e(!0),!0);break;case"Delete":t=Pe(De);break;case"Escape":t=function(e){return e.target instanceof HTMLInputElement&&(Z(e.target.value),re(!1),ce(-1),_e(!1)),!0}(e)}t&&e.preventDefault()}},onKeyPress:function(e){var t=!1;44===e.charCode&&(ze()&&Ie(X),t=!0),t&&e.preventDefault()},onFocus:je})),React.createElement(t.BaseControl,{id:V,label:l,help:u},React.createElement("div",Ve,React.createElement("div",{ref:Ce,className:Ue,tabIndex:-1,onMouseDown:qe,onTouchStart:qe},React.createElement(t.Flex,{className:"codeamp-components-multi-select-control__tokens-container",justify:"flex-start",align:"flex-start",gap:"4px",wrap:!0,__next36pxDefaultSize:U,hasTokens:!!b.length},(He=b.map((function(e){return h.find((function(t){return t.value===e}))||null})).map((function(e,o){return function(e,o){var n=e.value,r=e.label,a=e.onMouseEnter,i=void 0===a?be:a,s=e.onMouseLeave,c=void 0===s?be:s,l=e.isBorderless,u=void 0!==l&&l,d=n,p=o+1;return React.createElement(t.FlexItem,{key:"token-"+d},React.createElement(O,{value:d,label:r,title:"string"!=typeof token?r:void 0,onClickRemove:Ae,isBorderless:u,onMouseEnter:i,onMouseLeave:c,disabled:D,messages:N,termPosition:p,termsCount:b.length}))}(function(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?de(Object(o),!0).forEach((function(t){pe(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):de(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}({},e),o)})),He.splice(Be(),0,(We={instanceId:V,autoCapitalize:r,autoComplete:a,placeholder:0===b.length?s:"",key:"input",disabled:D,value:X,onBlur:function(){ze()?te(!1):(Z(""),J(0),te(!1),re(!1),ce(-1),_e(!1))},isExpanded:ne,selectedSuggestionIndex:ie,style:{lineHeight:"24px"},onClick:je},React.createElement(R,ue({},We,{onChange:i&&b.length>=i?void 0:function(e){var t=e.value;Z(t),re(!0),C(t)},ref:xe})))),He)),ne&&React.createElement(se,{instanceId:V,match:ye(X,h),searchValue:X.trim(),suggestions:$e,selectedIndex:ie,scrollIntoView:ge,onHover:function(e){var t=Le().indexOf(e);t>=0&&(ce(t),_e(!1))},onSelect:function(e){Ie(e)},__experimentalRenderItem:M}))))}}();var a=t;for(var i in r)a[i]=r[i];r.__esModule&&Object.defineProperty(a,"__esModule",{value:!0})}()},413:(e,t)=>{"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0}),t.Doctype=t.CDATA=t.Tag=t.Style=t.Script=t.Comment=t.Directive=t.Text=t.Root=t.isTag=t.ElementType=void 0,function(e){e.Root="root",e.Text="text",e.Directive="directive",e.Comment="comment",e.Script="script",e.Style="style",e.Tag="tag",e.CDATA="cdata",e.Doctype="doctype"}(o=t.ElementType||(t.ElementType={})),t.isTag=function(e){return e.type===o.Tag||e.type===o.Script||e.type===o.Style},t.Root=o.Root,t.Text=o.Text,t.Directive=o.Directive,t.Comment=o.Comment,t.Script=o.Script,t.Style=o.Style,t.Tag=o.Tag,t.CDATA=o.CDATA,t.Doctype=o.Doctype},141:function(e,t,o){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,o,n){void 0===n&&(n=o);var r=Object.getOwnPropertyDescriptor(t,o);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[o]}}),Object.defineProperty(e,n,r)}:function(e,t,o,n){void 0===n&&(n=o),e[n]=t[o]}),r=this&&this.__exportStar||function(e,t){for(var o in e)"default"===o||Object.prototype.hasOwnProperty.call(t,o)||n(t,e,o)};Object.defineProperty(t,"__esModule",{value:!0}),t.DomHandler=void 0;var a=o(413),i=o(957);r(o(957),t);var s={withStartIndices:!1,withEndIndices:!1,xmlMode:!1},c=function(){function e(e,t,o){this.dom=[],this.root=new i.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,"function"==typeof t&&(o=t,t=s),"object"==typeof e&&(t=e,e=void 0),this.callback=null!=e?e:null,this.options=null!=t?t:s,this.elementCB=null!=o?o:null}return e.prototype.onparserinit=function(e){this.parser=e},e.prototype.onreset=function(){this.dom=[],this.root=new i.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null},e.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},e.prototype.onerror=function(e){this.handleCallback(e)},e.prototype.onclosetag=function(){this.lastNode=null;var e=this.tagStack.pop();this.options.withEndIndices&&(e.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(e)},e.prototype.onopentag=function(e,t){var o=this.options.xmlMode?a.ElementType.Tag:void 0,n=new i.Element(e,t,void 0,o);this.addNode(n),this.tagStack.push(n)},e.prototype.ontext=function(e){var t=this.lastNode;if(t&&t.type===a.ElementType.Text)t.data+=e,this.options.withEndIndices&&(t.endIndex=this.parser.endIndex);else{var o=new i.Text(e);this.addNode(o),this.lastNode=o}},e.prototype.oncomment=function(e){if(this.lastNode&&this.lastNode.type===a.ElementType.Comment)this.lastNode.data+=e;else{var t=new i.Comment(e);this.addNode(t),this.lastNode=t}},e.prototype.oncommentend=function(){this.lastNode=null},e.prototype.oncdatastart=function(){var e=new i.Text(""),t=new i.CDATA([e]);this.addNode(t),e.parent=t,this.lastNode=e},e.prototype.oncdataend=function(){this.lastNode=null},e.prototype.onprocessinginstruction=function(e,t){var o=new i.ProcessingInstruction(e,t);this.addNode(o)},e.prototype.handleCallback=function(e){if("function"==typeof this.callback)this.callback(e,this.dom);else if(e)throw e},e.prototype.addNode=function(e){var t=this.tagStack[this.tagStack.length-1],o=t.children[t.children.length-1];this.options.withStartIndices&&(e.startIndex=this.parser.startIndex),this.options.withEndIndices&&(e.endIndex=this.parser.endIndex),t.children.push(e),o&&(e.prev=o,o.next=e),e.parent=t,this.lastNode=null},e}();t.DomHandler=c,t.default=c},957:function(e,t,o){"use strict";var n,r=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),a=this&&this.__assign||function(){return a=Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++)for(var r in t=arguments[o])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},a.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.cloneNode=t.hasChildren=t.isDocument=t.isDirective=t.isComment=t.isText=t.isCDATA=t.isTag=t.Element=t.Document=t.CDATA=t.NodeWithChildren=t.ProcessingInstruction=t.Comment=t.Text=t.DataNode=t.Node=void 0;var i=o(413),s=function(){function e(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(e.prototype,"parentNode",{get:function(){return this.parent},set:function(e){this.parent=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"previousSibling",{get:function(){return this.prev},set:function(e){this.prev=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextSibling",{get:function(){return this.next},set:function(e){this.next=e},enumerable:!1,configurable:!0}),e.prototype.cloneNode=function(e){return void 0===e&&(e=!1),S(this,e)},e}();t.Node=s;var c=function(e){function t(t){var o=e.call(this)||this;return o.data=t,o}return r(t,e),Object.defineProperty(t.prototype,"nodeValue",{get:function(){return this.data},set:function(e){this.data=e},enumerable:!1,configurable:!0}),t}(s);t.DataNode=c;var l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=i.ElementType.Text,t}return r(t,e),Object.defineProperty(t.prototype,"nodeType",{get:function(){return 3},enumerable:!1,configurable:!0}),t}(c);t.Text=l;var u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=i.ElementType.Comment,t}return r(t,e),Object.defineProperty(t.prototype,"nodeType",{get:function(){return 8},enumerable:!1,configurable:!0}),t}(c);t.Comment=u;var d=function(e){function t(t,o){var n=e.call(this,o)||this;return n.name=t,n.type=i.ElementType.Directive,n}return r(t,e),Object.defineProperty(t.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),t}(c);t.ProcessingInstruction=d;var p=function(e){function t(t){var o=e.call(this)||this;return o.children=t,o}return r(t,e),Object.defineProperty(t.prototype,"firstChild",{get:function(){var e;return null!==(e=this.children[0])&&void 0!==e?e:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"childNodes",{get:function(){return this.children},set:function(e){this.children=e},enumerable:!1,configurable:!0}),t}(s);t.NodeWithChildren=p;var m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=i.ElementType.CDATA,t}return r(t,e),Object.defineProperty(t.prototype,"nodeType",{get:function(){return 4},enumerable:!1,configurable:!0}),t}(p);t.CDATA=m;var f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=i.ElementType.Root,t}return r(t,e),Object.defineProperty(t.prototype,"nodeType",{get:function(){return 9},enumerable:!1,configurable:!0}),t}(p);t.Document=f;var h=function(e){function t(t,o,n,r){void 0===n&&(n=[]),void 0===r&&(r="script"===t?i.ElementType.Script:"style"===t?i.ElementType.Style:i.ElementType.Tag);var a=e.call(this,n)||this;return a.name=t,a.attribs=o,a.type=r,a}return r(t,e),Object.defineProperty(t.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tagName",{get:function(){return this.name},set:function(e){this.name=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"attributes",{get:function(){var e=this;return Object.keys(this.attribs).map((function(t){var o,n;return{name:t,value:e.attribs[t],namespace:null===(o=e["x-attribsNamespace"])||void 0===o?void 0:o[t],prefix:null===(n=e["x-attribsPrefix"])||void 0===n?void 0:n[t]}}))},enumerable:!1,configurable:!0}),t}(p);function g(e){return(0,i.isTag)(e)}function _(e){return e.type===i.ElementType.CDATA}function y(e){return e.type===i.ElementType.Text}function b(e){return e.type===i.ElementType.Comment}function v(e){return e.type===i.ElementType.Directive}function w(e){return e.type===i.ElementType.Root}function S(e,t){var o;if(void 0===t&&(t=!1),y(e))o=new l(e.data);else if(b(e))o=new u(e.data);else if(g(e)){var n=t?x(e.children):[],r=new h(e.name,a({},e.attribs),n);n.forEach((function(e){return e.parent=r})),null!=e.namespace&&(r.namespace=e.namespace),e["x-attribsNamespace"]&&(r["x-attribsNamespace"]=a({},e["x-attribsNamespace"])),e["x-attribsPrefix"]&&(r["x-attribsPrefix"]=a({},e["x-attribsPrefix"])),o=r}else if(_(e)){n=t?x(e.children):[];var i=new m(n);n.forEach((function(e){return e.parent=i})),o=i}else if(w(e)){n=t?x(e.children):[];var s=new f(n);n.forEach((function(e){return e.parent=s})),e["x-mode"]&&(s["x-mode"]=e["x-mode"]),o=s}else{if(!v(e))throw new Error("Not implemented yet: ".concat(e.type));var c=new d(e.name,e.data);null!=e["x-name"]&&(c["x-name"]=e["x-name"],c["x-publicId"]=e["x-publicId"],c["x-systemId"]=e["x-systemId"]),o=c}return o.startIndex=e.startIndex,o.endIndex=e.endIndex,null!=e.sourceCodeLocation&&(o.sourceCodeLocation=e.sourceCodeLocation),o}function x(e){for(var t=e.map((function(e){return S(e,!0)})),o=1;o<t.length;o++)t[o].prev=t[o-1],t[o-1].next=t[o];return t}t.Element=h,t.isTag=g,t.isCDATA=_,t.isText=y,t.isComment=b,t.isDirective=v,t.isDocument=w,t.hasChildren=function(e){return Object.prototype.hasOwnProperty.call(e,"children")},t.cloneNode=S},270:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CASE_SENSITIVE_TAG_NAMES_MAP=t.CASE_SENSITIVE_TAG_NAMES=void 0,t.CASE_SENSITIVE_TAG_NAMES=["animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","linearGradient","radialGradient","textPath"],t.CASE_SENSITIVE_TAG_NAMES_MAP=t.CASE_SENSITIVE_TAG_NAMES.reduce((function(e,t){return e[t.toLowerCase()]=t,e}),{})},496:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="html",n="head",r="body",a=/<([a-zA-Z]+[0-9]?)/,i=/<head[^]*>/i,s=/<body[^]*>/i,c=function(e,t){throw new Error("This browser does not support `document.implementation.createHTMLDocument`")},l=function(e,t){throw new Error("This browser does not support `DOMParser.prototype.parseFromString`")},u="object"==typeof window&&window.DOMParser;if("function"==typeof u){var d=new u;c=l=function(e,t){return t&&(e="<".concat(t,">").concat(e,"</").concat(t,">")),d.parseFromString(e,"text/html")}}if("object"==typeof document&&document.implementation){var p=document.implementation.createHTMLDocument();c=function(e,t){if(t){var o=p.documentElement.querySelector(t);return o&&(o.innerHTML=e),p}return p.documentElement.innerHTML=e,p}}var m,f="object"==typeof document&&document.createElement("template");f&&f.content&&(m=function(e){return f.innerHTML=e,f.content.childNodes}),t.default=function(e){var t,u,d=e.match(a),p=d&&d[1]?d[1].toLowerCase():"";switch(p){case o:var f=l(e);return i.test(e)||null===(t=null==(g=f.querySelector(n))?void 0:g.parentNode)||void 0===t||t.removeChild(g),s.test(e)||null===(u=null==(g=f.querySelector(r))?void 0:g.parentNode)||void 0===u||u.removeChild(g),f.querySelectorAll(o);case n:case r:var h=c(e).querySelectorAll(p);return s.test(e)&&i.test(e)?h[0].parentNode.childNodes:h;default:return m?m(e):(g=c(e,r).querySelector(r)).childNodes;var g}}},471:function(e,t,o){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=n(o(496)),a=o(731),i=/<(![a-zA-Z\s]+)>/;t.default=function(e){if("string"!=typeof e)throw new TypeError("First argument must be a string");if(!e)return[];var t=e.match(i),o=t?t[1]:void 0;return(0,a.formatDOM)((0,r.default)(e),null,o)}},731:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.formatDOM=t.formatAttributes=void 0;var n=o(141),r=o(270);function a(e){for(var t={},o=0,n=e.length;o<n;o++){var r=e[o];t[r.name]=r.value}return t}function i(e){return function(e){return r.CASE_SENSITIVE_TAG_NAMES_MAP[e]}(e=e.toLowerCase())||e}t.formatAttributes=a,t.formatDOM=function e(t,o,r){void 0===o&&(o=null);for(var s,c=[],l=0,u=t.length;l<u;l++){var d=t[l];switch(d.nodeType){case 1:var p=i(d.nodeName);(s=new n.Element(p,a(d.attributes))).children=e("template"===p?d.content.childNodes:d.childNodes,s);break;case 3:s=new n.Text(d.nodeValue);break;case 8:s=new n.Comment(d.nodeValue);break;default:continue}var m=c[l-1]||null;m&&(m.next=s),s.parent=o,s.prev=m,s.next=null,c.push(s)}return r&&((s=new n.ProcessingInstruction(r.substring(0,r.indexOf(" ")).toLowerCase(),r)).next=c[0]||null,s.parent=o,c.unshift(s),c[1]&&(c[1].prev=c[0])),c}},840:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(210),r=o(958),a=["checked","value"],i=["input","select","textarea"],s={reset:!0,submit:!0};function c(e){return n.possibleStandardNames[e]}t.default=function(e,t){void 0===e&&(e={});var o={},l=Boolean(e.type&&s[e.type]);for(var u in e){var d=e[u];if((0,n.isCustomAttribute)(u))o[u]=d;else{var p=u.toLowerCase(),m=c(p);if(m){var f=(0,n.getPropertyInfo)(m);switch(a.includes(m)&&i.includes(t)&&!l&&(m=c("default"+p)),o[m]=d,f&&f.type){case n.BOOLEAN:o[m]=!0;break;case n.OVERLOADED_BOOLEAN:""===d&&(o[m]=!0)}}else r.PRESERVE_CUSTOM_ATTRIBUTES&&(o[u]=d)}}return(0,r.setStyleProp)(e.style,o),o}},308:function(e,t,o){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=o(609),a=n(o(840)),i=o(958),s={cloneElement:r.cloneElement,createElement:r.createElement,isValidElement:r.isValidElement};function c(e){return i.PRESERVE_CUSTOM_ATTRIBUTES&&"tag"===e.type&&(0,i.isCustomComponent)(e.name,e.attribs)}t.default=function e(t,o){void 0===o&&(o={});for(var n=[],r="function"==typeof o.replace,l=o.transform||i.returnFirstArg,u=o.library||s,d=u.cloneElement,p=u.createElement,m=u.isValidElement,f=t.length,h=0;h<f;h++){var g=t[h];if(r){var _=o.replace(g,h);if(m(_)){f>1&&(_=d(_,{key:_.key||h})),n.push(l(_,g,h));continue}}if("text"!==g.type){var y=g,b={};c(y)?((0,i.setStyleProp)(y.attribs.style,y.attribs),b=y.attribs):y.attribs&&(b=(0,a.default)(y.attribs,y.name));var v=void 0;switch(g.type){case"script":case"style":g.children[0]&&(b.dangerouslySetInnerHTML={__html:g.children[0].data});break;case"tag":"textarea"===g.name&&g.children[0]?b.defaultValue=g.children[0].data:g.children&&g.children.length&&(v=e(g.children,o));break;default:continue}f>1&&(b.key=h),n.push(l(p(g.name,b,v),g,h))}else{var w=!g.data.trim().length;if(w&&g.parent&&!(0,i.canTextBeChildOfNode)(g.parent))continue;if(o.trim&&w)continue;n.push(l(g.data,g,h))}}return 1===n.length?n[0]:n}},442:function(e,t,o){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.htmlToDOM=t.domToReact=t.attributesToProps=t.Text=t.ProcessingInstruction=t.Element=t.Comment=void 0;var r=n(o(471));t.htmlToDOM=r.default;var a=n(o(840));t.attributesToProps=a.default;var i=n(o(308));t.domToReact=i.default;var s=o(141);Object.defineProperty(t,"Comment",{enumerable:!0,get:function(){return s.Comment}}),Object.defineProperty(t,"Element",{enumerable:!0,get:function(){return s.Element}}),Object.defineProperty(t,"ProcessingInstruction",{enumerable:!0,get:function(){return s.ProcessingInstruction}}),Object.defineProperty(t,"Text",{enumerable:!0,get:function(){return s.Text}});var c={lowerCaseAttributeNames:!1};t.default=function(e,t){if("string"!=typeof e)throw new TypeError("First argument must be a string");return e?(0,i.default)((0,r.default)(e,(null==t?void 0:t.htmlparser2)||c),t):[]}},958:function(e,t,o){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.returnFirstArg=t.canTextBeChildOfNode=t.ELEMENTS_WITH_NO_TEXT_CHILDREN=t.PRESERVE_CUSTOM_ATTRIBUTES=t.setStyleProp=t.isCustomComponent=void 0;var r=o(609),a=n(o(229)),i=new Set(["annotation-xml","color-profile","font-face","font-face-src","font-face-uri","font-face-format","font-face-name","missing-glyph"]);t.isCustomComponent=function(e,t){return e.includes("-")?!i.has(e):Boolean(t&&"string"==typeof t.is)};var s={reactCompat:!0};t.setStyleProp=function(e,t){if("string"==typeof e)if(e.trim())try{t.style=(0,a.default)(e,s)}catch(e){t.style={}}else t.style={}},t.PRESERVE_CUSTOM_ATTRIBUTES=Number(r.version.split(".")[0])>=16,t.ELEMENTS_WITH_NO_TEXT_CHILDREN=new Set(["tr","tbody","thead","tfoot","colgroup","table","head","html","frameset"]),t.canTextBeChildOfNode=function(e){return!t.ELEMENTS_WITH_NO_TEXT_CHILDREN.has(e.name)},t.returnFirstArg=function(e){return e}},788:e=>{var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,o=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,a=/^:\s*/,i=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,s=/^[;\s]*/,c=/^\s+|\s+$/g,l="";function u(e){return e?e.replace(c,l):l}e.exports=function(e,c){if("string"!=typeof e)throw new TypeError("First argument must be a string");if(!e)return[];c=c||{};var d=1,p=1;function m(e){var t=e.match(o);t&&(d+=t.length);var n=e.lastIndexOf("\n");p=~n?e.length-n:p+e.length}function f(){var e={line:d,column:p};return function(t){return t.position=new h(e),b(),t}}function h(e){this.start=e,this.end={line:d,column:p},this.source=c.source}h.prototype.content=e;var g=[];function _(t){var o=new Error(c.source+":"+d+":"+p+": "+t);if(o.reason=t,o.filename=c.source,o.line=d,o.column=p,o.source=e,!c.silent)throw o;g.push(o)}function y(t){var o=t.exec(e);if(o){var n=o[0];return m(n),e=e.slice(n.length),o}}function b(){y(n)}function v(e){var t;for(e=e||[];t=w();)!1!==t&&e.push(t);return e}function w(){var t=f();if("/"==e.charAt(0)&&"*"==e.charAt(1)){for(var o=2;l!=e.charAt(o)&&("*"!=e.charAt(o)||"/"!=e.charAt(o+1));)++o;if(o+=2,l===e.charAt(o-1))return _("End of comment missing");var n=e.slice(2,o-2);return p+=2,m(n),e=e.slice(o),p+=2,t({type:"comment",comment:n})}}function S(){var e=f(),o=y(r);if(o){if(w(),!y(a))return _("property missing ':'");var n=y(i),c=e({type:"declaration",property:u(o[0].replace(t,l)),value:n?u(n[0].replace(t,l)):l});return y(s),c}}return b(),function(){var e,t=[];for(v(t);e=S();)!1!==e&&(t.push(e),v(t));return t}()}},210:(e,t,o)=>{"use strict";function n(e,t,o,n,r,a,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=n,this.attributeNamespace=r,this.mustUseProperty=o,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=i}const r={};["children","dangerouslySetInnerHTML","defaultValue","defaultChecked","innerHTML","suppressContentEditableWarning","suppressHydrationWarning","style"].forEach((e=>{r[e]=new n(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((([e,t])=>{r[e]=new n(e,1,!1,t,null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((e=>{r[e]=new n(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((e=>{r[e]=new n(e,2,!1,e,null,!1,!1)})),["allowFullScreen","async","autoFocus","autoPlay","controls","default","defer","disabled","disablePictureInPicture","disableRemotePlayback","formNoValidate","hidden","loop","noModule","noValidate","open","playsInline","readOnly","required","reversed","scoped","seamless","itemScope"].forEach((e=>{r[e]=new n(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((e=>{r[e]=new n(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((e=>{r[e]=new n(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((e=>{r[e]=new n(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((e=>{r[e]=new n(e,5,!1,e.toLowerCase(),null,!1,!1)}));const a=/[\-\:]([a-z])/g,i=e=>e[1].toUpperCase();["accent-height","alignment-baseline","arabic-form","baseline-shift","cap-height","clip-path","clip-rule","color-interpolation","color-interpolation-filters","color-profile","color-rendering","dominant-baseline","enable-background","fill-opacity","fill-rule","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","glyph-name","glyph-orientation-horizontal","glyph-orientation-vertical","horiz-adv-x","horiz-origin-x","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","overline-position","overline-thickness","paint-order","panose-1","pointer-events","rendering-intent","shape-rendering","stop-color","stop-opacity","strikethrough-position","strikethrough-thickness","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-rendering","underline-position","underline-thickness","unicode-bidi","unicode-range","units-per-em","v-alphabetic","v-hanging","v-ideographic","v-mathematical","vector-effect","vert-adv-y","vert-origin-x","vert-origin-y","word-spacing","writing-mode","xmlns:xlink","x-height"].forEach((e=>{const t=e.replace(a,i);r[t]=new n(t,1,!1,e,null,!1,!1)})),["xlink:actuate","xlink:arcrole","xlink:role","xlink:show","xlink:title","xlink:type"].forEach((e=>{const t=e.replace(a,i);r[t]=new n(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((e=>{const t=e.replace(a,i);r[t]=new n(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((e=>{r[e]=new n(e,1,!1,e.toLowerCase(),null,!1,!1)})),r.xlinkHref=new n("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((e=>{r[e]=new n(e,1,!1,e.toLowerCase(),null,!0,!0)}));const{CAMELCASE:s,SAME:c,possibleStandardNames:l}=o(811),u=RegExp.prototype.test.bind(new RegExp("^(data|aria)-[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$")),d=Object.keys(l).reduce(((e,t)=>{const o=l[t];return o===c?e[t]=t:o===s?e[t.toLowerCase()]=t:e[t]=o,e}),{});t.BOOLEAN=3,t.BOOLEANISH_STRING=2,t.NUMERIC=5,t.OVERLOADED_BOOLEAN=4,t.POSITIVE_NUMERIC=6,t.RESERVED=0,t.STRING=1,t.getPropertyInfo=function(e){return r.hasOwnProperty(e)?r[e]:null},t.isCustomAttribute=u,t.possibleStandardNames=d},811:(e,t)=>{t.SAME=0,t.CAMELCASE=1,t.possibleStandardNames={accept:0,acceptCharset:1,"accept-charset":"acceptCharset",accessKey:1,action:0,allowFullScreen:1,alt:0,as:0,async:0,autoCapitalize:1,autoComplete:1,autoCorrect:1,autoFocus:1,autoPlay:1,autoSave:1,capture:0,cellPadding:1,cellSpacing:1,challenge:0,charSet:1,checked:0,children:0,cite:0,class:"className",classID:1,className:1,cols:0,colSpan:1,content:0,contentEditable:1,contextMenu:1,controls:0,controlsList:1,coords:0,crossOrigin:1,dangerouslySetInnerHTML:1,data:0,dateTime:1,default:0,defaultChecked:1,defaultValue:1,defer:0,dir:0,disabled:0,disablePictureInPicture:1,disableRemotePlayback:1,download:0,draggable:0,encType:1,enterKeyHint:1,for:"htmlFor",form:0,formMethod:1,formAction:1,formEncType:1,formNoValidate:1,formTarget:1,frameBorder:1,headers:0,height:0,hidden:0,high:0,href:0,hrefLang:1,htmlFor:1,httpEquiv:1,"http-equiv":"httpEquiv",icon:0,id:0,innerHTML:1,inputMode:1,integrity:0,is:0,itemID:1,itemProp:1,itemRef:1,itemScope:1,itemType:1,keyParams:1,keyType:1,kind:0,label:0,lang:0,list:0,loop:0,low:0,manifest:0,marginWidth:1,marginHeight:1,max:0,maxLength:1,media:0,mediaGroup:1,method:0,min:0,minLength:1,multiple:0,muted:0,name:0,noModule:1,nonce:0,noValidate:1,open:0,optimum:0,pattern:0,placeholder:0,playsInline:1,poster:0,preload:0,profile:0,radioGroup:1,readOnly:1,referrerPolicy:1,rel:0,required:0,reversed:0,role:0,rows:0,rowSpan:1,sandbox:0,scope:0,scoped:0,scrolling:0,seamless:0,selected:0,shape:0,size:0,sizes:0,span:0,spellCheck:1,src:0,srcDoc:1,srcLang:1,srcSet:1,start:0,step:0,style:0,summary:0,tabIndex:1,target:0,title:0,type:0,useMap:1,value:0,width:0,wmode:0,wrap:0,about:0,accentHeight:1,"accent-height":"accentHeight",accumulate:0,additive:0,alignmentBaseline:1,"alignment-baseline":"alignmentBaseline",allowReorder:1,alphabetic:0,amplitude:0,arabicForm:1,"arabic-form":"arabicForm",ascent:0,attributeName:1,attributeType:1,autoReverse:1,azimuth:0,baseFrequency:1,baselineShift:1,"baseline-shift":"baselineShift",baseProfile:1,bbox:0,begin:0,bias:0,by:0,calcMode:1,capHeight:1,"cap-height":"capHeight",clip:0,clipPath:1,"clip-path":"clipPath",clipPathUnits:1,clipRule:1,"clip-rule":"clipRule",color:0,colorInterpolation:1,"color-interpolation":"colorInterpolation",colorInterpolationFilters:1,"color-interpolation-filters":"colorInterpolationFilters",colorProfile:1,"color-profile":"colorProfile",colorRendering:1,"color-rendering":"colorRendering",contentScriptType:1,contentStyleType:1,cursor:0,cx:0,cy:0,d:0,datatype:0,decelerate:0,descent:0,diffuseConstant:1,direction:0,display:0,divisor:0,dominantBaseline:1,"dominant-baseline":"dominantBaseline",dur:0,dx:0,dy:0,edgeMode:1,elevation:0,enableBackground:1,"enable-background":"enableBackground",end:0,exponent:0,externalResourcesRequired:1,fill:0,fillOpacity:1,"fill-opacity":"fillOpacity",fillRule:1,"fill-rule":"fillRule",filter:0,filterRes:1,filterUnits:1,floodOpacity:1,"flood-opacity":"floodOpacity",floodColor:1,"flood-color":"floodColor",focusable:0,fontFamily:1,"font-family":"fontFamily",fontSize:1,"font-size":"fontSize",fontSizeAdjust:1,"font-size-adjust":"fontSizeAdjust",fontStretch:1,"font-stretch":"fontStretch",fontStyle:1,"font-style":"fontStyle",fontVariant:1,"font-variant":"fontVariant",fontWeight:1,"font-weight":"fontWeight",format:0,from:0,fx:0,fy:0,g1:0,g2:0,glyphName:1,"glyph-name":"glyphName",glyphOrientationHorizontal:1,"glyph-orientation-horizontal":"glyphOrientationHorizontal",glyphOrientationVertical:1,"glyph-orientation-vertical":"glyphOrientationVertical",glyphRef:1,gradientTransform:1,gradientUnits:1,hanging:0,horizAdvX:1,"horiz-adv-x":"horizAdvX",horizOriginX:1,"horiz-origin-x":"horizOriginX",ideographic:0,imageRendering:1,"image-rendering":"imageRendering",in2:0,in:0,inlist:0,intercept:0,k1:0,k2:0,k3:0,k4:0,k:0,kernelMatrix:1,kernelUnitLength:1,kerning:0,keyPoints:1,keySplines:1,keyTimes:1,lengthAdjust:1,letterSpacing:1,"letter-spacing":"letterSpacing",lightingColor:1,"lighting-color":"lightingColor",limitingConeAngle:1,local:0,markerEnd:1,"marker-end":"markerEnd",markerHeight:1,markerMid:1,"marker-mid":"markerMid",markerStart:1,"marker-start":"markerStart",markerUnits:1,markerWidth:1,mask:0,maskContentUnits:1,maskUnits:1,mathematical:0,mode:0,numOctaves:1,offset:0,opacity:0,operator:0,order:0,orient:0,orientation:0,origin:0,overflow:0,overlinePosition:1,"overline-position":"overlinePosition",overlineThickness:1,"overline-thickness":"overlineThickness",paintOrder:1,"paint-order":"paintOrder",panose1:0,"panose-1":"panose1",pathLength:1,patternContentUnits:1,patternTransform:1,patternUnits:1,pointerEvents:1,"pointer-events":"pointerEvents",points:0,pointsAtX:1,pointsAtY:1,pointsAtZ:1,prefix:0,preserveAlpha:1,preserveAspectRatio:1,primitiveUnits:1,property:0,r:0,radius:0,refX:1,refY:1,renderingIntent:1,"rendering-intent":"renderingIntent",repeatCount:1,repeatDur:1,requiredExtensions:1,requiredFeatures:1,resource:0,restart:0,result:0,results:0,rotate:0,rx:0,ry:0,scale:0,security:0,seed:0,shapeRendering:1,"shape-rendering":"shapeRendering",slope:0,spacing:0,specularConstant:1,specularExponent:1,speed:0,spreadMethod:1,startOffset:1,stdDeviation:1,stemh:0,stemv:0,stitchTiles:1,stopColor:1,"stop-color":"stopColor",stopOpacity:1,"stop-opacity":"stopOpacity",strikethroughPosition:1,"strikethrough-position":"strikethroughPosition",strikethroughThickness:1,"strikethrough-thickness":"strikethroughThickness",string:0,stroke:0,strokeDasharray:1,"stroke-dasharray":"strokeDasharray",strokeDashoffset:1,"stroke-dashoffset":"strokeDashoffset",strokeLinecap:1,"stroke-linecap":"strokeLinecap",strokeLinejoin:1,"stroke-linejoin":"strokeLinejoin",strokeMiterlimit:1,"stroke-miterlimit":"strokeMiterlimit",strokeWidth:1,"stroke-width":"strokeWidth",strokeOpacity:1,"stroke-opacity":"strokeOpacity",suppressContentEditableWarning:1,suppressHydrationWarning:1,surfaceScale:1,systemLanguage:1,tableValues:1,targetX:1,targetY:1,textAnchor:1,"text-anchor":"textAnchor",textDecoration:1,"text-decoration":"textDecoration",textLength:1,textRendering:1,"text-rendering":"textRendering",to:0,transform:0,typeof:0,u1:0,u2:0,underlinePosition:1,"underline-position":"underlinePosition",underlineThickness:1,"underline-thickness":"underlineThickness",unicode:0,unicodeBidi:1,"unicode-bidi":"unicodeBidi",unicodeRange:1,"unicode-range":"unicodeRange",unitsPerEm:1,"units-per-em":"unitsPerEm",unselectable:0,vAlphabetic:1,"v-alphabetic":"vAlphabetic",values:0,vectorEffect:1,"vector-effect":"vectorEffect",version:0,vertAdvY:1,"vert-adv-y":"vertAdvY",vertOriginX:1,"vert-origin-x":"vertOriginX",vertOriginY:1,"vert-origin-y":"vertOriginY",vHanging:1,"v-hanging":"vHanging",vIdeographic:1,"v-ideographic":"vIdeographic",viewBox:1,viewTarget:1,visibility:0,vMathematical:1,"v-mathematical":"vMathematical",vocab:0,widths:0,wordSpacing:1,"word-spacing":"wordSpacing",writingMode:1,"writing-mode":"writingMode",x1:0,x2:0,x:0,xChannelSelector:1,xHeight:1,"x-height":"xHeight",xlinkActuate:1,"xlink:actuate":"xlinkActuate",xlinkArcrole:1,"xlink:arcrole":"xlinkArcrole",xlinkHref:1,"xlink:href":"xlinkHref",xlinkRole:1,"xlink:role":"xlinkRole",xlinkShow:1,"xlink:show":"xlinkShow",xlinkTitle:1,"xlink:title":"xlinkTitle",xlinkType:1,"xlink:type":"xlinkType",xmlBase:1,"xml:base":"xmlBase",xmlLang:1,"xml:lang":"xmlLang",xmlns:0,"xml:space":"xmlSpace",xmlnsXlink:1,"xmlns:xlink":"xmlnsXlink",xmlSpace:1,y1:0,y2:0,y:0,yChannelSelector:1,z:0,zoomAndPan:1}},20:(e,t,o)=>{"use strict";var n=o(609),r=Symbol.for("react.element"),a=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,o){var n,a={},l=null,u=null;for(n in void 0!==o&&(l=""+o),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(u=t.ref),t)i.call(t,n)&&!c.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===a[n]&&(a[n]=t[n]);return{$$typeof:r,type:e,key:l,ref:u,props:a,_owner:s.current}}t.Fragment=a,t.jsx=l,t.jsxs=l},848:(e,t,o)=>{"use strict";e.exports=o(20)},229:function(e,t,o){"use strict";var n=(this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}})(o(133)),r=o(917);function a(e,t){var o={};return e&&"string"==typeof e?((0,n.default)(e,(function(e,n){e&&n&&(o[(0,r.camelCase)(e,t)]=n)})),o):o}a.default=a,e.exports=a},917:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.camelCase=void 0;var o=/^--[a-zA-Z0-9-]+$/,n=/-([a-z])/g,r=/^[^-]+$/,a=/^-(webkit|moz|ms|o|khtml)-/,i=/^-(ms)-/,s=function(e,t){return t.toUpperCase()},c=function(e,t){return"".concat(t,"-")};t.camelCase=function(e,t){return void 0===t&&(t={}),function(e){return!e||r.test(e)||o.test(e)}(e)?e:(e=e.toLowerCase(),(e=t.reactCompat?e.replace(i,c):e.replace(a,c)).replace(n,s))}},133:function(e,t,o){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=n(o(788));t.default=function(e,t){var o=null;if(!e||"string"!=typeof e)return o;var n=(0,r.default)(e),a="function"==typeof t;return n.forEach((function(e){if("declaration"===e.type){var n=e.property,r=e.value;a?t(n,r,e):r&&((o=o||{})[n]=r)}})),o}},609:e=>{"use strict";e.exports=window.React}},t={};function o(n){var r=t[n];if(void 0!==r)return r.exports;var a=t[n]={exports:{}};return e[n].call(a.exports,a,a.exports,o),a.exports}o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";const e=window.wp.domReady;var t=o.n(e);const n=window.wp.element,r=window.wp.data,a=window.wp.i18n;var i=o(442);const s=i.default||i,c=window.wp.components;var l=o(848);const u=window.wp.apiFetch;var d=o.n(u);const p={enabled:"yes",title:(0,a.__)("Credit Card","woocommerce-square"),description:(0,a.__)("Pay securely using your credit card.","woocommerce-square"),transaction_type:"charge",charge_virtual_orders:"no",enable_paid_capture:"no",card_types:["VISA","MC","AMEX","DISC","DINERS","JCB","UNIONPAY"],tokenization:"no"},m={enable_digital_wallets:"yes",digital_wallets_button_type:"buy",digital_wallets_apple_pay_button_color:"black",digital_wallets_google_pay_button_color:"black",digital_wallets_hide_button_options:[]},f={enabled:"no",title:(0,a.__)("Square Gift Cards","woocommerce-square"),description:(0,a.__)("Allow customers to purchase and redeem gift cards during checkout.","woocommerce-square")},h={enabled:"no",title:(0,a.__)("Cash App Pay","woocommerce-square"),description:(0,a.__)("Pay securely using Cash App Pay.","woocommerce-square"),transaction_type:"charge",charge_virtual_orders:"no",enable_paid_capture:"no",button_theme:"dark",button_shape:"semiround"},g={enable_sandbox:"no",sandbox_application_id:"",sandbox_token:"",sandbox_location_id:"",production_location_id:"",system_of_record:"disabled",enable_inventory_sync:"no",override_product_images:"no",hide_missing_products:"no",sync_interval:"0.25",is_connected:!1,disconnection_url:"",connection_url:"",connection_url_wizard:"",connection_url_sandbox:"",locations:[],enable_customer_decline_messages:"no",debug_mode:"off",debug_logging_enabled:"no"},_={squareSettingsIsSaving:!1,creditCardSettingsIsSaving:!1,cashAppSettingsIsSaving:!1,giftCardsSettingsIsSaving:!1},y={step:"connect-square",backStep:""},b={creditCard:(e=p,t)=>"SET_CREDIT_CARD_DATA"===t.type?{...e,...t.payload}:e,digitalWallet:(e=m,t)=>"SET_DIGITAL_WALLETS_DATA"===t.type?{...e,...t.payload}:e,giftCard:(e=f,t)=>"SET_GIFT_CARD_DATA"===t.type?{...e,...t.payload}:e,cashApp:(e=h,t)=>"SET_CASH_APP_DATA"===t.type?{...e,...t.payload}:e,squareSettings:(e=g,t)=>"SET_SQUARE_SETTING_DATA"===t.type?{...e,...t.payload}:e,savingProcessStatus:(e=_,t)=>{switch(t.type){case"SET_SQUARE_SETTING_PROCESS_STATUS":return{...e,squareSettingsIsSaving:t.payload};case"SET_CREDIT_CARD_SETTING_PROCESS_STATUS":return{...e,creditCardSettingsIsSaving:t.payload};case"SET_CASH_APP_PROCESS_STATUS":return{...e,cashAppSettingsIsSaving:t.payload};case"SET_GIFT_CARDS_PROCESS_STATUS":return{...e,giftCardsSettingsIsSaving:t.payload};default:return e}},step:(e=y,t)=>{switch(t.type){case"SET_STEP":return{...e,step:t.payload};case"SET_BACK_STEP":return{...e,backStep:t.payload};default:return e}}},v=(0,r.createReduxStore)("woo-square/onboarding",{reducer:(0,r.combineReducers)(b),actions:{setCreditCardData:e=>({type:"SET_CREDIT_CARD_DATA",payload:e}),setDigitalWalletData:e=>({type:"SET_DIGITAL_WALLETS_DATA",payload:e}),setGiftCardData:e=>({type:"SET_GIFT_CARD_DATA",payload:e}),setCashAppData:e=>({type:"SET_CASH_APP_DATA",payload:e}),setSquareSettings:e=>({type:"SET_SQUARE_SETTING_DATA",payload:e}),setSquareSettingsSavingProcess:e=>({type:"SET_SQUARE_SETTING_PROCESS_STATUS",payload:e}),setCreditCardSettingsSavingProcess:e=>({type:"SET_CREDIT_CARD_SETTING_PROCESS_STATUS",payload:e}),setCashAppSettingsSavingProcess:e=>({type:"SET_CASH_APP_PROCESS_STATUS",payload:e}),setGiftCardsSettingsSavingProcess:e=>({type:"SET_GIFT_CARDS_PROCESS_STATUS",payload:e}),setStep:e=>({type:"SET_STEP",payload:e}),setBackStep:e=>({type:"SET_BACK_STEP",payload:e})},selectors:{getCreditCardData:(e,t)=>t&&e.creditCard[t]||e.creditCard,getDigitalWalletData:(e,t)=>t&&e.digitalWallet[t]||e.digitalWallet,getGiftCardData:(e,t)=>t&&e.giftCard[t]||e.giftCard,getCashAppData:(e,t)=>t&&e.cashApp[t]||e.cashApp,getSquareSettings:(e,t)=>t&&e.squareSettings[t]||e.squareSettings,getSquareSettingsSavingProcess:e=>e.savingProcessStatus.squareSettingsIsSaving,getCreditCardSettingsSavingProcess:e=>e.savingProcessStatus.creditCardSettingsIsSaving,getCashAppSettingsSavingProcess:e=>e.savingProcessStatus.cashAppSettingsIsSaving,getGiftCardsSettingsSavingProcess:e=>e.savingProcessStatus.giftCardsSettingsIsSaving,getStep:e=>e.step.step,getBackStep:e=>e.step.backStep}}),w=(e=[])=>e.filter((e=>"ACTIVE"===e.status)).map((e=>({label:e.name,value:e.id}))),S=(e=!1)=>{const t=(0,r.useDispatch)(),[o,a]=(0,n.useState)(!1),[i,s]=(0,n.useState)(!1),[c,l]=(0,n.useState)(!1),u=e=>(0,r.useSelect)((t=>t(v).getCreditCardData(e))),g=e=>(0,r.useSelect)((t=>t(v).getDigitalWalletData(e))),_=e=>(0,r.useSelect)((t=>t(v).getGiftCardData(e))),y=e=>(0,r.useSelect)((t=>t(v).getCashAppData(e))),b=e=>t(v).setCreditCardData(e),w=e=>t(v).setDigitalWalletData(e),S=e=>t(v).setGiftCardData(e),x=e=>t(v).setCashAppData(e),C=e=>t(v).setCreditCardSettingsSavingProcess(e),k=e=>t(v).setCashAppSettingsSavingProcess(e),E=e=>t(v).setGiftCardsSettingsSavingProcess(e),T=(0,r.useSelect)((e=>e(v).getCreditCardSettingsSavingProcess(undefined)));const j=(0,r.useSelect)((e=>e(v).getCashAppSettingsSavingProcess(void 0))),q=(0,r.useSelect)((e=>e(v).getGiftCardsSettingsSavingProcess(void 0))),A={...u(),...g()},P={..._()},O={...y()};return(0,n.useEffect)((()=>{if(!e)return a(!0),l(!0),void s(!0);(async()=>{if(!o){const{creditCard:e,digitalWallet:t}=await(async()=>{const e=await d()({path:"/wc/v3/wc_square/payment_settings"});return{creditCard:{enabled:e.enabled||p.enabled,title:e.title||p.title,description:e.description||p.description,transaction_type:e.transaction_type||p.transaction_type,charge_virtual_orders:e.charge_virtual_orders||p.charge_virtual_orders,enable_paid_capture:e.enable_paid_capture||p.enable_paid_capture,card_types:e.card_types||p.card_types,tokenization:e.tokenization||p.tokenization},digitalWallet:{enable_digital_wallets:e.enable_digital_wallets||m.enable_digital_wallets,digital_wallets_button_type:e.digital_wallets_button_type||m.digital_wallets_button_type,digital_wallets_apple_pay_button_color:e.digital_wallets_apple_pay_button_color||m.digital_wallets_apple_pay_button_color,digital_wallets_google_pay_button_color:e.digital_wallets_google_pay_button_color||m.digital_wallets_google_pay_button_color,digital_wallets_hide_button_options:e.digital_wallets_hide_button_options||m.digital_wallets_hide_button_options}}})();b(e),w(t),a(!0)}if(!c){const{giftCard:e}=await(async()=>({giftCard:{enabled:(await d()({path:"/wc/v3/wc_square/gift_cards_settings"})).enabled||f.enabled}}))();S(e),l(!0)}})()}),[e]),(0,n.useEffect)((()=>{e?(async()=>{const{cashApp:e}=await(async()=>{const e=await d()({path:"/wc/v3/wc_square/cash_app_settings"});return{cashApp:{enabled:e.enabled||h.enabled,title:e.title||h.title,description:e.description||h.description,transaction_type:e.transaction_type||h.transaction_type,charge_virtual_orders:e.charge_virtual_orders||h.charge_virtual_orders,enable_paid_capture:e.enable_paid_capture||h.enable_paid_capture,button_theme:e.button_theme||h.button_theme,button_shape:e.button_shape||h.button_shape}}})();i||(x(e),s(!0))})():s(!0)}),[e]),{isPaymentGatewaySettingsSaving:T,isCashAppGatewaySettingsSaving:j,isGiftCardsGatewaySettingsSaving:q,paymentGatewaySettings:A,cashAppGatewaySettings:O,giftCardsGatewaySettings:P,paymentGatewaySettingsLoaded:o,cashAppGatewaySettingsLoaded:i,giftCardsGatewaySettingsLoaded:c,getCreditCardData:u,getDigitalWalletData:g,getGiftCardData:_,getCashAppData:y,setCreditCardData:b,setDigitalWalletData:w,setGiftCardData:S,setCashAppData:x,savePaymentGatewaySettings:async()=>{C(!0);const e=await d()({path:"/wc/v3/wc_square/payment_settings",method:"POST",data:A});return C(null),await new Promise((e=>setTimeout(e,1e3))),C(!1),e},saveGiftCardsSettings:async()=>{E(!0);const e=await d()({path:"/wc/v3/wc_square/gift_cards_settings",method:"POST",data:P});return E(null),await new Promise((e=>setTimeout(e,1e3))),E(!1),e},saveCashAppSettings:async()=>{k(!0);const e=await d()({path:"/wc/v3/wc_square/cash_app_settings",method:"POST",data:O});return k(null),await new Promise((e=>setTimeout(e,1e3))),k(!1),e}}},x=window.wc.tracks,C=({children:e})=>(0,l.jsx)("div",{className:"woo-square-setting__section",children:e}),k=({title:e})=>(0,l.jsx)("div",{className:"woo-square-setting__section-title heading_1",children:e}),E=({children:e})=>(0,l.jsx)("div",{className:"woo-square-setting__section-description",children:e}),T=({label:e,children:t,description:o,variant:n,indent:r=0,className:a=""})=>{if("boxed"===n)return(0,l.jsxs)("div",{className:"woo-square-setting__input-wrapper woo-square-setting__input-wrapper--boxed "+a,children:[(0,l.jsxs)("div",{className:"woo-square-setting__input-wrapper--boxed-bg",children:[(0,l.jsx)("div",{className:"woo-square-setting__input-label",children:e}),(0,l.jsx)("div",{className:"woo-square-setting__input-field",children:t})]}),(0,l.jsx)("div",{className:"woo-square-setting__input-description",children:o})]});const i={marginLeft:16*r+"px"};return(0,l.jsxs)("div",{className:"woo-square-setting__input-wrapper "+a,style:i,children:[e&&(0,l.jsx)("div",{className:"woo-square-setting__input-label",children:e}),t,o&&(0,l.jsx)("div",{className:"woo-square-setting__input-description",children:o})]})},j=e=>{const{label:t,...o}=e;return(0,l.jsxs)("div",{className:"woo-square-setting__input-field--checkbox",children:[(0,l.jsx)(c.CheckboxControl,{...o}),(0,l.jsx)("div",{className:"woo-square-setting__input-field--checkbox-label",children:t})]})},q=window.wp.primitives,A=(0,l.jsx)(q.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,l.jsx)(q.Path,{d:"M16.7 7.1l-6.3 8.5-3.3-2.5-.9 1.2 4.5 3.4L17.9 8z"})}),P=(e=!1)=>{const t=(0,r.useDispatch)(),[o,a]=(0,n.useState)(!1),i=e=>(0,r.useSelect)((t=>t(v).getSquareSettings(e))),s=e=>t(v).setSquareSettings(e),c=e=>t(v).setSquareSettingsSavingProcess(e),l=(e=[])=>{s({locations:w(e)})},u=i(),p=(0,r.useSelect)((e=>e(v).getSquareSettingsSavingProcess()));return(0,n.useEffect)((()=>{e?(async()=>{if(!o){const e=await(async()=>{const e=await d()({path:"/wc/v3/wc_square/settings"});return{enable_sandbox:e.enable_sandbox||g.enable_sandbox,sandbox_application_id:e.sandbox_application_id||g.sandbox_application_id,sandbox_token:e.sandbox_token||g.sandbox_token,production_location_id:e.production_location_id||g.production_location_id,sandbox_location_id:e.sandbox_location_id||g.sandbox_location_id,system_of_record:e.system_of_record||g.system_of_record,enable_inventory_sync:e.enable_inventory_sync||g.enable_inventory_sync,override_product_images:e.override_product_images||g.override_product_images,hide_missing_products:e.hide_missing_products||g.hide_missing_products,sync_interval:e.sync_interval||g.sync_interval,is_connected:e.is_connected||g.is_connected,disconnection_url:e.disconnection_url||g.disconnection_url,connection_url:e.connection_url||g.connection_url,connection_url_wizard:e.connection_url_wizard||g.connection_url_wizard,connection_url_sandbox:e.connection_url_sandbox||g.connection_url_sandbox,locations:e.locations||g.locations,enable_customer_decline_messages:e.enable_customer_decline_messages||g.enable_customer_decline_messages,debug_mode:e.debug_mode||g.debug_mode,debug_logging_enabled:e.debug_logging_enabled||g.debug_logging_enabled}})();s(e),l(e.locations),a(!0)}})():a(!0)}),[e]),{settings:u,squareSettingsLoaded:o,isSquareSettingsSaving:p,getSquareSettingData:i,setSquareSettingData:s,setBusinessLocation:l,saveSquareSettings:async()=>{c(!0);const e=await d()({path:"/wc/v3/wc_square/settings",method:"POST",data:u});return c(null),await new Promise((e=>setTimeout(e,1e3))),c(!1),e}}},O=(D=c.Button,e=>{const{label:t=(0,a.__)("Apply Changes","woocommerce-square")}=e,{afterSaveLabel:o=(0,a.__)("Changes Saved!","woocommerce-square"),afterSaveCallback:n,icon:r=A,...i}=e,{isSquareSettingsSaving:s,settings:c,saveSquareSettings:u}=P();return(0,l.jsx)(D,{"data-testid":"square-settings-save-button",...null===s&&{icon:r},isBusy:s,variant:"button-primary",className:"button-primary",onClick:()=>{(async()=>{const e=document.querySelectorAll("[required]");let t=!0;e.forEach((e=>{e.value?e.classList.remove("required-error"):(e.classList.add("required-error"),t=!1)})),t&&(await u(c),n&&n())})()},...i,children:null===s?o:t})});var D;const I=(e=>t=>{const{label:o=(0,a.__)("Apply Changes","woocommerce-square"),afterSaveLabel:n=(0,a.__)("Changes Saved!","woocommerce-square"),onClick:r}=t,{isPaymentGatewaySettingsSaving:i,isGiftCardsGatewaySettingsSaving:s,isCashAppGatewaySettingsSaving:c}=S(),u=null===i||null===s||null===c,d=[i,s,c].some((e=>e));return(0,l.jsx)(e,{"data-testid":"payment-gateway-settings-save-button",...t,...u&&{icon:A},isBusy:d,variant:"button-primary",className:"button-primary",onClick:()=>r(),children:u?n:o})})(c.Button),N=()=>(0,l.jsx)("div",{className:"woo-square-loader",children:(0,l.jsx)(c.Spinner,{})}),R=({indent:e=0,isDirty:t=!1})=>{const{settings:o,squareSettingsLoaded:r,setSquareSettingData:i}=P(),[u,p]=(0,n.useState)(!1),[m,f]=(0,n.useState)(!1),[h,g]=(0,n.useState)(!1),[_,y]=(0,n.useState)(""),b=()=>f(!1),{system_of_record:v="disabled",enable_inventory_sync:w="no",override_product_images:S="no",hide_missing_products:q="no",sync_interval:A="0.25",is_connected:O=!1}=o,D=[{label:(0,a.__)("15 minutes","woocommerce-square"),value:"0.25"},{label:(0,a.__)("30 minutes","woocommerce-square"),value:"0.5"},{label:(0,a.__)("45 minutes","woocommerce-square"),value:"0.75"},{label:(0,a.__)("1 hour","woocommerce-square"),value:"1"},{label:(0,a.__)("2 hours","woocommerce-square"),value:"2"},{label:(0,a.__)("3 hours","woocommerce-square"),value:"3"},{label:(0,a.__)("6 hours","woocommerce-square"),value:"6"},{label:(0,a.__)("8 hours","woocommerce-square"),value:"8"},{label:(0,a.__)("12 hours","woocommerce-square"),value:"12"},{label:(0,a.__)("24 hours","woocommerce-square"),value:"24"}];return r?(0,l.jsx)(l.Fragment,{children:O&&(0,l.jsxs)(C,{children:[(0,l.jsx)(k,{title:(0,a.__)("Configure Sync Settings","woocommerce-square")}),(0,l.jsx)(E,{children:(0,a.__)("Choose how you want your product data to flow between WooCommerce and Square to keep your inventory and listings perfectly aligned. Select from the options below to best match your business operations:","woocommerce-square")}),(0,l.jsxs)("div",{className:"woo-square-wizard__fields",children:[(0,l.jsx)(T,{label:(0,a.__)("Sync Settings","woocommerce-square"),description:s((0,a.sprintf)(/* translators: %1$s and %2$s are placeholders for the link to the documentation, %3$s and %4$s are placeholders for the link to the support forum */ /* translators: %1$s and %2$s are placeholders for the link to the documentation, %3$s and %4$s are placeholders for the link to the support forum */
(0,a.__)("Choose where data will be updated for synced products. Inventory in Square is always checked for adjustments when sync is enabled. %1$sLearn more%2$s about choosing a system of record or %3$screate a ticket%4$s if you're experiencing technical issues.","woocommerce-square"),'<a href="https://woocommerce.com/document/woocommerce-square/#section-8" target="_blank">',"</a>",'<a href="https://wordpress.org/support/plugin/woocommerce-square/" target="_blank">',"</a>")),children:(0,l.jsx)(c.SelectControl,{"data-testid":"sync-settings-field",value:v,onChange:e=>i({system_of_record:e}),options:[{label:(0,a.__)("Disabled","woocommerce-square"),value:"disabled"},{label:(0,a.__)("Square","woocommerce-square"),value:"square"},{label:(0,a.__)("WooCommerce","woocommerce-square"),value:"woocommerce"}]})}),"woocommerce"===v&&(0,l.jsx)(T,{label:(0,a.__)("Sync Inventory","woocommerce-square"),indent:e,description:s((0,a.sprintf)(/* translators: %1$s and %2$s are placeholders for the strong tag */ /* translators: %1$s and %2$s are placeholders for the strong tag */
(0,a.__)("Inventory is %1$salways fetched from Square%2$s periodically to account for sales from other channels.","woocommerce-square"),"<strong>","</strong>")),children:(0,l.jsx)(j,{"data-testid":"push-inventory-field",checked:"yes"===w,onChange:e=>i({enable_inventory_sync:e?"yes":"no"}),label:(0,a.__)("Enable to push inventory changes to Square","woocommerce-square")})}),"square"===v&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(T,{label:(0,a.__)("Sync Inventory","woocommerce-square"),indent:e,description:(0,a.__)("Inventory is fetched from Square periodically and updated in WooCommerce.","woocommerce-square"),children:(0,l.jsx)(j,{"data-testid":"pull-inventory-field",checked:"yes"===w,onChange:e=>i({enable_inventory_sync:e?"yes":"no"}),label:(0,a.__)("Enable to fetch inventory changes from Square","woocommerce-square")})}),(0,l.jsx)(T,{label:(0,a.__)("Override product images","woocommerce-square"),indent:e,description:(0,a.__)("Product images that have been updated in Square will also be updated within WooCommerce during a sync.","woocommerce-square"),children:(0,l.jsx)(j,{"data-testid":"override-images-field",checked:"yes"===S,onChange:e=>i({override_product_images:e?"yes":"no"}),label:(0,a.__)("Enable to override Product images from Square","woocommerce-square")})}),(0,l.jsx)(T,{label:(0,a.__)("Handle missing products","woocommerce-square"),indent:e,description:(0,a.__)("Products not found in Square will be hidden in the WooCommerce product catalog.","woocommerce-square"),children:(0,l.jsx)(j,{"data-testid":"hide-missing-products-field",checked:"yes"===q,onChange:e=>i({hide_missing_products:e?"yes":"no"}),label:(0,a.__)("Hide synced products when not found in Square","woocommerce-square")})})]}),("woocommerce"===v||"square"===v)&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(T,{label:(0,a.__)("Sync interval","woocommerce-square"),description:(0,a.__)("Frequency for how regularly WooCommerce will sync products with Square.","woocommerce-square"),indent:e,children:(0,l.jsx)(c.SelectControl,{"data-testid":"sync-interval-field",value:A,options:D,onChange:e=>i({sync_interval:e})})}),(0,l.jsxs)(T,{label:(0,a.__)("Import Products","woocommerce-square"),indent:e,className:"import-products-wrapper",children:[(0,l.jsx)(c.Button,{"data-testid":"import-products-button",variant:"secondary",className:"import-square-products-react",onClick:()=>f(!0),style:{display:_?"none":"block"},disabled:t,children:(0,a.__)("Import all Products from Square","woocommerce-square")}),t&&(0,l.jsx)("p",{children:(0,a.__)("You have made changes to the settings. Please save the changes to enable the button.","woocommerce-square")}),(0,l.jsx)("div",{className:"import-notice notice notice-info is-dismissible",style:{display:_?"block":"none",padding:"10px"},children:_})]}),m&&(0,l.jsx)(c.Modal,{title:"Import Products From Square",size:"large",onRequestClose:b,children:(0,l.jsxs)("div",{className:"import-modal-cover",children:[(0,l.jsxs)("div",{className:"import-modal-content",children:[(0,l.jsxs)("p",{children:[(0,a.__)("You are about to import all new products, variations and categories from Square. This will create a new product in WooCommerce for every product retrieved from Square. If you have products in the trash from the previous imports, these will be ignored in the import.","woocommerce-square")," "]}),(0,l.jsxs)("h3",{children:[(0,a.__)("Do you wish to import existing product updates from Square?","woocommerce-square")," "]}),(0,l.jsx)("p",{children:s((0,a.sprintf)(/* translators: %1$s and %2$s are placeholders for the link to the documentation */ /* translators: %1$s and %2$s are placeholders for the link to the documentation */
(0,a.__)("Doing so will update existing WooCommerce products with the latest information from Square. %1$sView Documentation%2$s.","woocommerce-square"),'<a href="https://woocommerce.com/document/woocommerce-square/#section-8" target="_blank">',"</a>"))}),(0,l.jsx)(c.CheckboxControl,{"data-testid":"update-during-import-field",checked:u,onChange:e=>p(e),label:(0,a.__)("Update existing products during import.","woocommerce-square")})]}),(0,l.jsxs)("div",{className:"import-buttons",children:[(0,l.jsx)(c.Button,{variant:"secondary",onClick:b,children:(0,a.__)("Cancel","woocommerce-square")}),(0,l.jsx)(c.Button,{"data-testid":"import-products-button-confirm",variant:"button-primary",className:"button-primary",onClick:()=>{g(!0),(async()=>{const e=await d()({path:"/wc/v3/wc_square/import-products",method:"POST",data:{update_during_import:u,api_callback:!0}});b(),g(!1),y(e.data)})(),((e="",t={})=>{const{eventName:o,allProperties:n}=((e="",t={})=>({eventName:`woocommerce_square_${e}`,allProperties:{...t,plugin_version:wcSquareOnboarding.plugin_version,is_mobile:wcSquareOnboarding.is_mobile}}))(e,t);(0,x.recordEvent)(o,n)})("product_import_started")},isBusy:h,children:(0,a.__)("Import Products","woocommerce-square")})]})]})})]})]})]})}):null},M=()=>{const{settings:e,squareSettingsLoaded:t,setSquareSettingData:o}=P(),{stepData:{step:i}}=((e=!1)=>{const t=(0,r.useDispatch)(),o=e=>(0,r.useSelect)((t=>t(v).getStep(e))),a=e=>(0,r.useSelect)((t=>t(v).getBackStep(e))),i=e=>t(v).setStep(e),s=e=>t(v).setBackStep(e),c={step:o(),backStep:a()};return(0,n.useEffect)((()=>{e&&(i(localStorage.getItem("step")||c.step),s(localStorage.getItem("backStep")||c.stepData))}),[e]),{stepData:c,getStep:o,getBackStep:a,setStep:i,setBackStep:s}})(),{enable_customer_decline_messages:u,debug_logging_enabled:d="no"}=e;return t?(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)(C,{children:[(0,l.jsx)(k,{title:(0,a.__)("Advanced Settings","woocommerce-square")}),(0,l.jsxs)(E,{children:[(0,a.__)("Adjust these options to provide your customers with additional clarity and troubleshoot any issues more effectively.","woocommerce-square"),(0,l.jsx)("br",{}),"advanced-settings"===i&&s((0,a.sprintf)(/* translators: %1$s and %2$s are HTML tags for the link to the Square settings page */ /* translators: %1$s and %2$s are HTML tags for the link to the Square settings page */
(0,a.__)("%1$sClick here%2$s to further refine your settings in the traditional view.","woocommerce-square"),`<a href='${wcSquareSettings.adminUrl}admin.php?page=wc-settings&tab=square'>`,"</a>"))]}),(0,l.jsxs)("div",{className:"woo-square-wizard__fields",children:[(0,l.jsx)(T,{label:(0,a.__)("Detailed Decline Messages","woocommerce-square"),children:(0,l.jsx)(j,{checked:"yes"===u,onChange:e=>o({enable_customer_decline_messages:e?"yes":"no"}),label:(0,a.__)("Show detailed decline messages to the customer during checkout rather than a generic decline message.","woocommerce-square")})}),(0,l.jsx)(B,{}),(0,l.jsx)(T,{label:(0,a.__)("Enable Logging","woocommerce-square"),variant:"boxed",description:s((0,a.sprintf)(/* translators: %1$s and %2$s are HTML tags for the link to the WooCommerce status log */ /* translators: %1$s and %2$s are HTML tags for the link to the WooCommerce status log */
(0,a.__)("Log debug messages to the %1$sWooCommerce status log%2$s","woocommerce-square"),`<a href="${wcSquareSettings.adminUrl}admin.php?page=wc-status&tab=logs">`,"</a>")),children:(0,l.jsx)(c.ToggleControl,{checked:"yes"===d,onChange:e=>o({debug_logging_enabled:e?"yes":"no"})})})]})]})}):null},L=({indent:e=0,showToggle:t=!0})=>{const{settings:o,squareSettingsLoaded:n,setSquareSettingData:r}=P(),{enable_sandbox:i="no",sandbox_application_id:u="",sandbox_token:d=""}=o;return n?(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)(C,{children:[t&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(k,{title:(0,a.__)("Configure Sandbox Settings","woocommerce-square")}),(0,l.jsx)(E,{children:(0,a.__)("Activate Sandbox Mode to safely simulate transactions and sync operations, ensuring your WooCommerce/Square integration functions seamlessly. Experiment with payment methods and product data syncing in a risk-free environment before going live with your store.","woocommerce-square")})]}),(0,l.jsxs)("div",{className:"woo-square-wizard__fields",children:[t&&(0,l.jsx)(T,{label:(0,a.__)("Enable Sandbox Mode","woocommerce-square"),description:(0,a.__)("After enabling you'll see a new Sandbox settings section with two fields: Sandbox Application ID & Sandbox Access Token.","woocommerce-square"),variant:"boxed",children:(0,l.jsx)(c.ToggleControl,{className:"enable-sandbox-mode-field",checked:"yes"===i,onChange:e=>r({enable_sandbox:e?"yes":"no"})})}),"yes"===i&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(T,{label:(0,a.__)("Sandbox Application ID","woocommerce-square"),description:s((0,a.sprintf)(/* translators: %1$s: opening anchor tag, %2$s: closing anchor tag */ /* translators: %1$s: opening anchor tag, %2$s: closing anchor tag */
(0,a.__)("Application ID for the Sandbox Application, see the details in the %1$sMy Applications%2$s section.","woocommerce-square"),'<a target="_blank" href="https://squareupsandbox.com/dashboard/apps/my-applications">',"</a>")),indent:e,children:(0,l.jsx)(c.TextControl,{required:!0,"data-testid":"sandbox-application-id-field",value:u,onChange:e=>r({sandbox_application_id:e})})}),(0,l.jsx)(T,{label:(0,a.__)("Sandbox Access Token","woocommerce-square"),description:s((0,a.sprintf)(/* translators: %1$s: opening anchor tag, %2$s: closing anchor tag */ /* translators: %1$s: opening anchor tag, %2$s: closing anchor tag */
(0,a.__)("Access Token for the Sandbox Test Account, see the details in the %1$sSandbox Test Account%2$s section. Make sure you use the correct Sandbox Access Token for your application. For a given Sandbox Test Account, each Authorized Application is assigned a different Access Token.","woocommerce-square"),'<a target="_blank" href="https://developer.squareup.com/console/en/sandbox-test-accounts">',"</a>")),indent:e,children:(0,l.jsx)(c.TextControl,{required:!0,"data-testid":"sandbox-token-field",value:d,onChange:e=>r({sandbox_token:e})})})]})]})]})}):null},B=()=>{const{settings:e,setSquareSettingData:t}=P(),{debug_mode:o}=e;return(0,l.jsx)(T,{label:(0,a.__)("Debug Mode","woocommerce-square"),children:(0,l.jsx)(c.SelectControl,{value:o,onChange:e=>t({debug_mode:e}),options:[{label:(0,a.__)("Off","woocommerce-square"),value:"off"},{label:(0,a.__)("Show on Checkout Page","woocommerce-square"),value:"checkout"},{label:(0,a.__)("Save to Log","woocommerce-square"),value:"log"},{label:(0,a.__)("Both","woocommerce-square"),value:"both"}]})})},F=()=>{const{settings:e,isSquareSettingsSaving:t,squareSettingsLoaded:o,setSquareSettingData:r}=P(!0),[i,u]=(0,n.useState)(!1),[d,p]=(0,n.useState)(!1),[m,f]=(0,n.useState)(!1),{enable_sandbox:h="no",sandbox_location_id:g="",production_location_id:_="",is_connected:y=!1,connection_url:b="",disconnection_url:v="",locations:w=[]}=e,S="yes"===h?g:_;return(0,n.useEffect)((()=>{o&&u(e)}),[o]),(0,n.useEffect)((()=>{!1!==i&&p(!Object.keys(i).every((t=>i[t]===e[t])))}),[e]),(0,n.useEffect)((()=>{null===t&&(u(e),p(!1))}),[t]),o?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(k,{title:(0,a.__)("Connect to Square","woocommerce-square")}),(0,l.jsx)(E,{children:(0,a.__)("Activate Square integration to securely manage and process transactions for your WooCommerce store. Choose between connecting to a live production account for real transactions or a sandbox account for testing purposes. This setup ensures your payment processing is seamless, whether you are in a development stage or ready to go live.","woocommerce-square")}),(0,l.jsx)(T,{label:(0,a.__)("Environment Selection","woocommerce-square"),children:(0,l.jsx)(c.SelectControl,{"data-testid":"environment-selection-field",required:!0,value:h,onChange:e=>{f(!0),r({enable_sandbox:e})},options:[{label:(0,a.__)("Please choose an environment","woocommerce-square"),value:""},{label:(0,a.__)("Production","woocommerce-square"),value:"no"},{label:(0,a.__)("Sandbox","woocommerce-square"),value:"yes"}]})}),"yes"===h&&(0,l.jsx)(L,{showToggle:!1}),"no"===h&&(0,l.jsx)(T,{label:(0,a.__)("Connection","woocommerce-square"),variant:"boxed",className:"square-settings__connection",children:(0,l.jsx)(c.Button,{"data-testid":"connect-to-square-button",variant:"button-primary",className:"button-primary",href:y&&!m?v:b,isBusy:t,disabled:!wcSquareSettings.depsCheck,children:y&&!m?(0,a.__)("Disconnect from Square","woocommerce-square"):(0,a.__)("Connect to Square","woocommerce-square")})}),y&&(0,l.jsxs)(C,{children:[(0,l.jsx)(k,{title:(0,a.__)("Select your business location","woocommerce-square")}),(0,l.jsx)(E,{children:s((0,a.sprintf)(/* translators: %1$s and %2$s are placeholders for the link to the documentation */ /* translators: %1$s and %2$s are placeholders for the link to the documentation */
(0,a.__)("Please select the location you wish to link with this WooCommerce store. Only active %1$slocations%2$s that support credit card processing in Square can be linked.","woocommerce-square"),'<a target="_blank" href="https://docs.woocommerce.com/document/woocommerce-square/#section-4">',"</a>"))}),(0,l.jsx)(T,{label:(0,a.__)("Business location","woocommerce-square"),children:(0,l.jsx)(c.SelectControl,{"data-testid":"business-location-field",value:S,onChange:e=>{r("yes"===h?{sandbox_location_id:e}:{production_location_id:e})},options:[{label:(0,a.__)("Please choose a location","woocommerce-square"),value:""},...w]})})]}),y&&(0,l.jsx)(R,{indent:2,isDirty:d}),(0,l.jsx)(M,{}),(0,l.jsx)(O,{label:(0,a.__)("Save changes","woocommerce-square"),afterSaveLabel:(0,a.__)("Changes Saved!","woocommerce-square"),afterSaveCallback:()=>window.location.reload(),disabled:!wcSquareSettings.depsCheck})]}):(0,l.jsx)(N,{})};var z=o(106);const G=({origin:e=""})=>{const{paymentGatewaySettings:t,paymentGatewaySettingsLoaded:o,setCreditCardData:n}=S(),{enabled:r,title:i,description:u,charge_virtual_orders:d,enable_paid_capture:p,transaction_type:m,tokenization:f,card_types:h}=t;if(!o)return null;const g="authorization"===m&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(T,{description:(0,a.__)("If the order contains exclusively virtual items, enable this to immediately charge, rather than authorize, the transaction.","woocommerce-square"),indent:2,children:(0,l.jsx)(j,{"data-testid":"credit-card-gateway-virtual-order-only-field",label:(0,a.__)("Charge Virtual-Only Orders","woocommerce-square"),checked:"yes"===d,onChange:e=>n({charge_virtual_orders:e?"yes":"no"})})}),(0,l.jsx)(T,{description:(0,a.__)("Automatically capture orders when they are changed to Processing or Completed.","woocommerce-square"),indent:2,children:(0,l.jsx)(j,{"data-testid":"credit-card-gateway-capture-paid-orders-field",label:(0,a.__)("Capture Paid Orders","woocommerce-square"),checked:"yes"===p,onChange:e=>n({enable_paid_capture:e?"yes":"no"})})})]});return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)(C,{children:[(0,l.jsx)(k,{title:s((0,a.sprintf)(/* translators: %s: link to payments settings */ /* translators: %s: link to payments settings */
(0,a.__)("Manage Credit Card Payment Settings %s","woocommerce-square"),"settings"===e?`<small className="wc-admin-breadcrumb"><a href="${wcSquareSettings.adminUrl}admin.php?page=wc-settings&amp;tab=checkout" ariaLabel="Return to payments"></a></small>`:""))}),(0,l.jsx)(E,{children:(0,a.__)("Here you can fine-tune the details of how credit card payments are processed, ensuring a secure and smooth transaction for every customer.","woocommerce-square")}),(0,l.jsxs)("div",{className:"woo-square-wizard__fields",children:[(0,l.jsx)(T,{label:(0,a.__)("Enable / Disable","woocommerce-square"),children:(0,l.jsx)(j,{"data-testid":"credit-card-gateway-toggle-field",label:(0,a.__)("Enable this payment method.","woocommerce-square"),checked:"yes"===r,onChange:e=>n({enabled:e?"yes":"no"})})}),(0,l.jsx)(T,{label:(0,a.__)("Title","woocommerce-square"),children:(0,l.jsx)(c.TextControl,{"data-testid":"credit-card-gateway-title-field",value:i,onChange:e=>n({title:e})})}),(0,l.jsx)(T,{label:(0,a.__)("Description","woocommerce-square"),children:(0,l.jsx)(c.TextareaControl,{"data-testid":"credit-card-gateway-description-field",value:u,onChange:e=>n({description:e})})}),(0,l.jsx)(T,{label:(0,a.__)("Transaction Type","woocommerce-square"),children:(0,l.jsx)(c.SelectControl,{"data-testid":"credit-card-transaction-type-field",value:m,onChange:e=>n({transaction_type:e}),options:[{label:(0,a.__)("Charge","woocommerce-square"),value:"charge"},{label:(0,a.__)("Authorization","woocommerce-square"),value:"authorization"}]})}),g,(0,l.jsx)(T,{label:(0,a.__)("Accepted Card Logos","woocommerce-square"),children:(0,l.jsx)(z.MultiSelectControl,{className:"credit-card-gateway-card-logos-field",id:"credit-card-gateway-card-logos-field",label:"",__experimentalShowHowTo:!1,value:h,onChange:e=>n({card_types:e}),options:[{label:(0,a.__)("Visa","woocommerce-square"),value:"VISA"},{label:(0,a.__)("MasterCard","woocommerce-square"),value:"MC"},{label:(0,a.__)("American Express","woocommerce-square"),value:"AMEX"},{label:(0,a.__)("Discover","woocommerce-square"),value:"DISC"},{label:(0,a.__)("Diners","woocommerce-square"),value:"DINERS"},{label:(0,a.__)("JCB","woocommerce-square"),value:"JCB"},{label:(0,a.__)("UnionPay","woocommerce-square"),value:"UNIONPAY"}]})}),(0,l.jsx)(T,{label:(0,a.__)("Customer Profiles","woocommerce-square"),children:(0,l.jsx)(j,{"data-testid":"credit-card-tokenization-field",label:(0,a.__)("Check to enable tokenization and allow customers to securely save their payment details for future checkout.","woocommerce-square"),checked:"yes"===f,onChange:e=>n({tokenization:e?"yes":"no"})})})]})]})})},W=()=>{const{paymentGatewaySettingsLoaded:e,paymentGatewaySettings:t,setDigitalWalletData:o}=S(),{enable_digital_wallets:n,digital_wallets_button_type:r,digital_wallets_apple_pay_button_color:i,digital_wallets_google_pay_button_color:u,digital_wallets_hide_button_options:d}=t;return e?(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)(C,{children:[(0,l.jsx)(k,{title:(0,a.__)("Manage Digital Wallet Settings","woocommerce-square")}),(0,l.jsx)(E,{children:(0,a.__)("Accept payments with Apple Pay and Google Pay on your store, available in select countries. Enabling digital wallets adds payment buttons to Product, Cart and Checkout pages.","woocommerce-square")}),(0,l.jsxs)("div",{className:"woo-square-wizard__fields",children:[(0,l.jsx)(T,{label:(0,a.__)("Enable / Disable","woocommerce-square"),description:s((0,a.sprintf)(/* translators: %1$s: opening link tag, %2$s: closing link tag */ /* translators: %1$s: opening link tag, %2$s: closing link tag */
(0,a.__)("Allow customers to pay with Apple Pay or Google Pay from your Product, Cart and Checkout pages. Read more about the availablity of digital wallets in our %1$sdocumentation%2$s.","woocommerce-square"),'<a target="_blank" href="https://docs.woocommerce.com/document/woocommerce-square/">',"</a>")),children:(0,l.jsx)(j,{"data-testid":"digital-wallet-gateway-toggle-field",label:(0,a.__)("Enable digital wallets.","woocommerce-square"),checked:"yes"===n,onChange:e=>o({enable_digital_wallets:e?"yes":"no"})})}),(0,l.jsx)(T,{label:(0,a.__)("Button Type","woocommerce-square"),children:(0,l.jsx)(c.SelectControl,{"data-testid":"digital-wallet-gatewaybutton-type-field",value:r,onChange:e=>o({digital_wallets_button_type:e}),options:[{label:(0,a.__)("Buy Now","woocommerce-square"),value:"buy"},{label:(0,a.__)("Donate","woocommerce-square"),value:"donate"},{label:(0,a.__)("No Text","woocommerce-square"),value:"plain"}]})}),(0,l.jsx)(T,{label:(0,a.__)("Apple Pay Button Color","woocommerce-square"),children:(0,l.jsx)(c.SelectControl,{"data-testid":"digital-wallet-gatewayapple-pay-button-color-field",value:i,onChange:e=>o({digital_wallets_apple_pay_button_color:e}),options:[{label:(0,a.__)("Black","woocommerce-square"),value:"black"},{label:(0,a.__)("White","woocommerce-square"),value:"white"},{label:(0,a.__)("White with outline","woocommerce-square"),value:"white-outline"}]})}),(0,l.jsx)(T,{label:(0,a.__)("Google Pay Button Color","woocommerce-square"),children:(0,l.jsx)(c.SelectControl,{"data-testid":"digital-wallet-gatewaygoogle-pay-button-color-field",value:u,onChange:e=>o({digital_wallets_google_pay_button_color:e}),options:[{label:(0,a.__)("Black","woocommerce-square"),value:"black"},{label:(0,a.__)("White","woocommerce-square"),value:"white"}]})}),(0,l.jsx)(T,{label:(0,a.__)("Hide Digital Wallet Buttons","woocommerce-square"),children:(0,l.jsx)(z.MultiSelectControl,{"data-testid":"digital-wallet-gatewayhide-buttons-field",label:"",__experimentalShowHowTo:!1,value:d,onChange:e=>o({digital_wallets_hide_button_options:e}),options:[{label:(0,a.__)("Apple Pay","woocommerce-square"),value:"apple"},{label:(0,a.__)("Google Pay","woocommerce-square"),value:"google"}]})})]})]})}):null},H=({origin:e=""})=>{const{giftCardsGatewaySettingsLoaded:t,giftCardsGatewaySettings:o,setGiftCardData:n}=S(),{enabled:r}=o;return t?(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)(C,{children:[(0,l.jsx)(k,{title:s((0,a.sprintf)(/* translators: %s: Gift Cards */ /* translators: %s: Gift Cards */
(0,a.__)("Gift Cards %s","woocommerce-square"),"settings"===e?`<small className="wc-admin-breadcrumb"><a href="${wcSquareSettings.adminUrl}admin.php?page=wc-settings&amp;tab=checkout" ariaLabel="Return to payments"></a></small>`:""))}),(0,l.jsx)(E,{children:(0,a.__)("You can receive payments with Square Gift Cards and sell Square Gift Cards by enabling the Gift Cards option here.","woocommerce-square")}),(0,l.jsxs)("div",{className:"woo-square-wizard__fields",children:["settings"!==e&&(0,l.jsx)(T,{label:(0,a.__)("Enable Square Gift Cards","woocommerce-square"),variant:"boxed",children:(0,l.jsx)(c.ToggleControl,{className:"gift-card-gateway-toggle-field","data-testid":"gift-card-gateway-toggle-field",checked:"yes"===r,onChange:e=>n({enabled:e?"yes":"no"})})}),"settings"===e&&(0,l.jsx)(T,{label:(0,a.__)("Enable / Disable","woocommerce-square"),children:(0,l.jsx)(j,{className:"gift-card-gateway-toggle-field","data-testid":"gift-card-gateway-toggle-field",label:(0,a.__)("Enable this payment method.","woocommerce-square"),checked:"yes"===r,onChange:e=>n({enabled:e?"yes":"no"})})})]})]})}):null},U=({origin:e=""})=>{const{cashAppGatewaySettings:t,setCashAppData:o}=S(),{enabled:n,title:r,description:i,transaction_type:u,button_theme:d,charge_virtual_orders:p,enable_paid_capture:m,button_shape:f}=t,h="authorization"===u&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(T,{description:(0,a.__)("If the order contains exclusively virtual items, enable this to immediately charge, rather than authorize, the transaction.","woocommerce-square"),indent:2,children:(0,l.jsx)(j,{"data-testid":"cash-app-gateway-virtual-order-only-field",label:(0,a.__)("Charge Virtual-Only Orders","woocommerce-square"),checked:"yes"===p,onChange:e=>o({charge_virtual_orders:e?"yes":"no"})})}),(0,l.jsx)(T,{description:(0,a.__)("Automatically capture orders when they are changed to Processing or Completed.","woocommerce-square"),indent:2,children:(0,l.jsx)(j,{"data-testid":"cash-app-gateway-capture-paid-orders-field",label:(0,a.__)("Capture Paid Orders","woocommerce-square"),checked:"yes"===m,onChange:e=>o({enable_paid_capture:e?"yes":"no"})})})]});return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)(C,{children:[(0,l.jsx)(k,{title:s((0,a.sprintf)(/* translators: %s: link to settings page */ /* translators: %s: link to settings page */
(0,a.__)("Manage Cash App Pay Settings %s","woocommerce-square"),"settings"===e?`<small className="wc-admin-breadcrumb"><a href="${wcSquareSettings.adminUrl}admin.php?page=wc-settings&amp;tab=checkout" ariaLabel="Return to payments"></a></small>`:""))}),(0,l.jsx)(E,{children:(0,a.__)("Cash App Pay is an innovative payment solution that offers your customers a quick and secure way to check out. With just a few settings, you can tailor how Cash App Pay appears and operates on your site.","woocommerce-square")}),(0,l.jsxs)("div",{className:"woo-square-wizard__fields",children:[(0,l.jsx)(T,{label:(0,a.__)("Enable / Disable","woocommerce-square"),children:(0,l.jsx)(j,{"data-testid":"cash-app-gateway-toggle-field",label:(0,a.__)("Enable this payment method.","woocommerce-square"),checked:"yes"===n,onChange:e=>o({enabled:e?"yes":"no"})})}),(0,l.jsx)(T,{label:(0,a.__)("Title","woocommerce-square"),children:(0,l.jsx)(c.TextControl,{"data-testid":"cash-app-gateway-title-field",value:r,onChange:e=>o({title:e})})}),(0,l.jsx)(T,{label:(0,a.__)("Description","woocommerce-square"),children:(0,l.jsx)(c.TextareaControl,{"data-testid":"cash-app-gateway-description-field",value:i,onChange:e=>o({description:e})})}),(0,l.jsx)(T,{label:(0,a.__)("Transaction Type","woocommerce-square"),children:(0,l.jsx)(c.SelectControl,{"data-testid":"cash-app-gateway-transaction-type-field",value:u,onChange:e=>o({transaction_type:e}),options:[{label:(0,a.__)("Charge","woocommerce-square"),value:"charge"},{label:(0,a.__)("Authorization","woocommerce-square"),value:"authorization"}]})}),h,(0,l.jsx)(T,{label:(0,a.__)("Cash App Pay Button Theme","woocommerce-square"),children:(0,l.jsx)(c.SelectControl,{"data-testid":"cash-app-gateway-button-theme-field",value:d,onChange:e=>o({button_theme:e}),options:[{label:(0,a.__)("Dark","woocommerce-square"),value:"dark"},{label:(0,a.__)("Light","woocommerce-square"),value:"light"}]})}),(0,l.jsx)(T,{label:(0,a.__)("Cash App Pay Button Shape","woocommerce-square"),children:(0,l.jsx)(c.SelectControl,{"data-testid":"cash-app-gateway-button-shape-field",value:f,onChange:e=>o({button_shape:e}),options:[{label:(0,a.__)("Semiround","woocommerce-square"),value:"semiround"},{label:(0,a.__)("Round","woocommerce-square"),value:"round"}]})})]})]})})},V=()=>{const{paymentGatewaySettingsLoaded:e,savePaymentGatewaySettings:t}=S(!0);return e?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(G,{origin:"settings"}),(0,l.jsx)(W,{}),(0,l.jsx)(I,{onClick:()=>{t()}})]}):(0,l.jsx)(N,{})},$=()=>{const{cashAppGatewaySettingsLoaded:e,saveCashAppSettings:t}=S(!0);return e?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(U,{origin:"settings"}),(0,l.jsx)(I,{onClick:()=>{t()}})]}):(0,l.jsx)(N,{})},X=()=>{const{giftCardsGatewaySettingsLoaded:e,saveGiftCardsSettings:t}=S(!0);return e?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(H,{origin:"settings"}),(0,l.jsx)(I,{onClick:()=>{t()}})]}):(0,l.jsx)(N,{})};(0,r.register)(v),t()((()=>{let e=document.getElementById("woocommerce-square-settings__container-general");e?(0,n.createRoot)(e).render((0,l.jsx)(F,{})):(e=document.getElementById("woocommerce-square-payment-gateway-settings__container--square_credit_card"),e&&(0,n.createRoot)(e).render((0,l.jsx)(V,{})),e=document.getElementById("woocommerce-square-payment-gateway-settings__container--square_cash_app_pay"),e&&(0,n.createRoot)(e).render((0,l.jsx)($,{})),e=document.getElementById("woocommerce-square-payment-gateway-settings__container--gift_cards_pay"),e&&(0,n.createRoot)(e).render((0,l.jsx)(X,{})))}))})()})();